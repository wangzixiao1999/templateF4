ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"ZDT_X42_V2.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/ZDT_X42_V2.c"
  20              		.section	.text.ZDT_X42_V2_Reset_CurPos_To_Zero,"ax",%progbits
  21              		.align	1
  22              		.global	ZDT_X42_V2_Reset_CurPos_To_Zero
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	ZDT_X42_V2_Reset_CurPos_To_Zero:
  28              	.LVL0:
  29              	.LFB134:
   1:Core/Src/ZDT_X42_V2.c **** #include "ZDT_X42_V2.h"
   2:Core/Src/ZDT_X42_V2.c **** 
   3:Core/Src/ZDT_X42_V2.c **** /**********************************************************
   4:Core/Src/ZDT_X42_V2.c **** *** ZDT_X42_V2.0步进闭环控制例程
   5:Core/Src/ZDT_X42_V2.c **** *** 编写作者：ZHANGDATOU
   6:Core/Src/ZDT_X42_V2.c **** *** 技术支持：张大头闭环伺服
   7:Core/Src/ZDT_X42_V2.c **** *** 淘宝店铺：https://zhangdatou.taobao.com
   8:Core/Src/ZDT_X42_V2.c **** *** CSDN博客：http s://blog.csdn.net/zhangdatou666
   9:Core/Src/ZDT_X42_V2.c **** *** qq交流群：262438510
  10:Core/Src/ZDT_X42_V2.c **** **********************************************************/
  11:Core/Src/ZDT_X42_V2.c **** 
  12:Core/Src/ZDT_X42_V2.c **** /**
  13:Core/Src/ZDT_X42_V2.c ****   * @brief    将当前位置清零
  14:Core/Src/ZDT_X42_V2.c ****   * @param    addr  ：电机地址
  15:Core/Src/ZDT_X42_V2.c ****   * @retval   地址 + 功能码 + 命令状态 + 校验字节
  16:Core/Src/ZDT_X42_V2.c ****   */
  17:Core/Src/ZDT_X42_V2.c **** void ZDT_X42_V2_Reset_CurPos_To_Zero(uint8_t addr)
  18:Core/Src/ZDT_X42_V2.c **** {
  30              		.loc 1 18 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 16
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 18 1 is_stmt 0 view .LVU1
  35 0000 00B5     		push	{lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 4
  38              		.cfi_offset 14, -4
  39 0002 85B0     		sub	sp, sp, #20
  40              	.LCFI1:
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 2


  41              		.cfi_def_cfa_offset 24
  19:Core/Src/ZDT_X42_V2.c ****   uint8_t cmd[16] = {0};
  42              		.loc 1 19 3 is_stmt 1 view .LVU2
  43              		.loc 1 19 11 is_stmt 0 view .LVU3
  44 0004 0023     		movs	r3, #0
  45 0006 0093     		str	r3, [sp]
  46 0008 0193     		str	r3, [sp, #4]
  47 000a 0293     		str	r3, [sp, #8]
  48 000c 0393     		str	r3, [sp, #12]
  20:Core/Src/ZDT_X42_V2.c **** 
  21:Core/Src/ZDT_X42_V2.c ****   // 装载命令
  22:Core/Src/ZDT_X42_V2.c ****   cmd[0] =  addr;                       // 地址
  49              		.loc 1 22 3 is_stmt 1 view .LVU4
  50              		.loc 1 22 10 is_stmt 0 view .LVU5
  51 000e 8DF80000 		strb	r0, [sp]
  23:Core/Src/ZDT_X42_V2.c ****   cmd[1] =  0x0A;                       // 功能码
  52              		.loc 1 23 3 is_stmt 1 view .LVU6
  53              		.loc 1 23 10 is_stmt 0 view .LVU7
  54 0012 0A23     		movs	r3, #10
  55 0014 8DF80130 		strb	r3, [sp, #1]
  24:Core/Src/ZDT_X42_V2.c ****   cmd[2] =  0x6D;                       // 辅助码
  56              		.loc 1 24 3 is_stmt 1 view .LVU8
  57              		.loc 1 24 10 is_stmt 0 view .LVU9
  58 0018 6D23     		movs	r3, #109
  59 001a 8DF80230 		strb	r3, [sp, #2]
  25:Core/Src/ZDT_X42_V2.c ****   cmd[3] =  0x6B;                       // 校验字节
  60              		.loc 1 25 3 is_stmt 1 view .LVU10
  61              		.loc 1 25 10 is_stmt 0 view .LVU11
  62 001e 6B23     		movs	r3, #107
  63 0020 8DF80330 		strb	r3, [sp, #3]
  26:Core/Src/ZDT_X42_V2.c **** 
  27:Core/Src/ZDT_X42_V2.c ****   // 发送命令
  28:Core/Src/ZDT_X42_V2.c ****   can_SendCmd(cmd, 4);
  64              		.loc 1 28 3 is_stmt 1 view .LVU12
  65 0024 0421     		movs	r1, #4
  66 0026 6846     		mov	r0, sp
  67              	.LVL1:
  68              		.loc 1 28 3 is_stmt 0 view .LVU13
  69 0028 FFF7FEFF 		bl	can_SendCmd
  70              	.LVL2:
  29:Core/Src/ZDT_X42_V2.c **** }
  71              		.loc 1 29 1 view .LVU14
  72 002c 05B0     		add	sp, sp, #20
  73              	.LCFI2:
  74              		.cfi_def_cfa_offset 4
  75              		@ sp needed
  76 002e 5DF804FB 		ldr	pc, [sp], #4
  77              		.cfi_endproc
  78              	.LFE134:
  80              		.section	.text.ZDT_X42_V2_Reset_Clog_Pro,"ax",%progbits
  81              		.align	1
  82              		.global	ZDT_X42_V2_Reset_Clog_Pro
  83              		.syntax unified
  84              		.thumb
  85              		.thumb_func
  87              	ZDT_X42_V2_Reset_Clog_Pro:
  88              	.LVL3:
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 3


  89              	.LFB135:
  30:Core/Src/ZDT_X42_V2.c **** 
  31:Core/Src/ZDT_X42_V2.c **** /**
  32:Core/Src/ZDT_X42_V2.c ****   * @brief    解除堵转保护
  33:Core/Src/ZDT_X42_V2.c ****   * @param    addr  ：电机地址
  34:Core/Src/ZDT_X42_V2.c ****   * @retval   地址 + 功能码 + 命令状态 + 校验字节
  35:Core/Src/ZDT_X42_V2.c ****   */
  36:Core/Src/ZDT_X42_V2.c **** void ZDT_X42_V2_Reset_Clog_Pro(uint8_t addr)
  37:Core/Src/ZDT_X42_V2.c **** {
  90              		.loc 1 37 1 is_stmt 1 view -0
  91              		.cfi_startproc
  92              		@ args = 0, pretend = 0, frame = 16
  93              		@ frame_needed = 0, uses_anonymous_args = 0
  94              		.loc 1 37 1 is_stmt 0 view .LVU16
  95 0000 00B5     		push	{lr}
  96              	.LCFI3:
  97              		.cfi_def_cfa_offset 4
  98              		.cfi_offset 14, -4
  99 0002 85B0     		sub	sp, sp, #20
 100              	.LCFI4:
 101              		.cfi_def_cfa_offset 24
  38:Core/Src/ZDT_X42_V2.c ****   uint8_t cmd[16] = {0};
 102              		.loc 1 38 3 is_stmt 1 view .LVU17
 103              		.loc 1 38 11 is_stmt 0 view .LVU18
 104 0004 0023     		movs	r3, #0
 105 0006 0093     		str	r3, [sp]
 106 0008 0193     		str	r3, [sp, #4]
 107 000a 0293     		str	r3, [sp, #8]
 108 000c 0393     		str	r3, [sp, #12]
  39:Core/Src/ZDT_X42_V2.c **** 
  40:Core/Src/ZDT_X42_V2.c ****   // 装载命令
  41:Core/Src/ZDT_X42_V2.c ****   cmd[0] =  addr;                       // 地址
 109              		.loc 1 41 3 is_stmt 1 view .LVU19
 110              		.loc 1 41 10 is_stmt 0 view .LVU20
 111 000e 8DF80000 		strb	r0, [sp]
  42:Core/Src/ZDT_X42_V2.c ****   cmd[1] =  0x0E;                       // 功能码
 112              		.loc 1 42 3 is_stmt 1 view .LVU21
 113              		.loc 1 42 10 is_stmt 0 view .LVU22
 114 0012 0E23     		movs	r3, #14
 115 0014 8DF80130 		strb	r3, [sp, #1]
  43:Core/Src/ZDT_X42_V2.c ****   cmd[2] =  0x52;                       // 辅助码
 116              		.loc 1 43 3 is_stmt 1 view .LVU23
 117              		.loc 1 43 10 is_stmt 0 view .LVU24
 118 0018 5223     		movs	r3, #82
 119 001a 8DF80230 		strb	r3, [sp, #2]
  44:Core/Src/ZDT_X42_V2.c ****   cmd[3] =  0x6B;                       // 校验字节
 120              		.loc 1 44 3 is_stmt 1 view .LVU25
 121              		.loc 1 44 10 is_stmt 0 view .LVU26
 122 001e 6B23     		movs	r3, #107
 123 0020 8DF80330 		strb	r3, [sp, #3]
  45:Core/Src/ZDT_X42_V2.c **** 
  46:Core/Src/ZDT_X42_V2.c ****   // 发送命令
  47:Core/Src/ZDT_X42_V2.c ****   can_SendCmd(cmd, 4);
 124              		.loc 1 47 3 is_stmt 1 view .LVU27
 125 0024 0421     		movs	r1, #4
 126 0026 6846     		mov	r0, sp
 127              	.LVL4:
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 4


 128              		.loc 1 47 3 is_stmt 0 view .LVU28
 129 0028 FFF7FEFF 		bl	can_SendCmd
 130              	.LVL5:
  48:Core/Src/ZDT_X42_V2.c **** }
 131              		.loc 1 48 1 view .LVU29
 132 002c 05B0     		add	sp, sp, #20
 133              	.LCFI5:
 134              		.cfi_def_cfa_offset 4
 135              		@ sp needed
 136 002e 5DF804FB 		ldr	pc, [sp], #4
 137              		.cfi_endproc
 138              	.LFE135:
 140              		.section	.text.ZDT_X42_V2_Read_Sys_Params,"ax",%progbits
 141              		.align	1
 142              		.global	ZDT_X42_V2_Read_Sys_Params
 143              		.syntax unified
 144              		.thumb
 145              		.thumb_func
 147              	ZDT_X42_V2_Read_Sys_Params:
 148              	.LVL6:
 149              	.LFB136:
  49:Core/Src/ZDT_X42_V2.c **** 
  50:Core/Src/ZDT_X42_V2.c **** /**
  51:Core/Src/ZDT_X42_V2.c ****   * @brief    读取系统参数
  52:Core/Src/ZDT_X42_V2.c ****   * @param    addr  ：电机地址
  53:Core/Src/ZDT_X42_V2.c ****   * @param    s     ：系统参数类型
  54:Core/Src/ZDT_X42_V2.c ****   * @retval   地址 + 功能码 + 命令状态 + 校验字节
  55:Core/Src/ZDT_X42_V2.c ****   */
  56:Core/Src/ZDT_X42_V2.c **** void ZDT_X42_V2_Read_Sys_Params(uint8_t addr, SysParams_t s)
  57:Core/Src/ZDT_X42_V2.c **** {
 150              		.loc 1 57 1 is_stmt 1 view -0
 151              		.cfi_startproc
 152              		@ args = 0, pretend = 0, frame = 16
 153              		@ frame_needed = 0, uses_anonymous_args = 0
 154              		.loc 1 57 1 is_stmt 0 view .LVU31
 155 0000 00B5     		push	{lr}
 156              	.LCFI6:
 157              		.cfi_def_cfa_offset 4
 158              		.cfi_offset 14, -4
 159 0002 85B0     		sub	sp, sp, #20
 160              	.LCFI7:
 161              		.cfi_def_cfa_offset 24
  58:Core/Src/ZDT_X42_V2.c ****   uint8_t cmd[16] = {0};
 162              		.loc 1 58 3 is_stmt 1 view .LVU32
 163              		.loc 1 58 11 is_stmt 0 view .LVU33
 164 0004 0023     		movs	r3, #0
 165 0006 0093     		str	r3, [sp]
 166 0008 0193     		str	r3, [sp, #4]
 167 000a 0293     		str	r3, [sp, #8]
 168 000c 0393     		str	r3, [sp, #12]
  59:Core/Src/ZDT_X42_V2.c **** 
  60:Core/Src/ZDT_X42_V2.c ****   // 装载命令
  61:Core/Src/ZDT_X42_V2.c ****   cmd[0] =  addr;                       // 地址
 169              		.loc 1 61 3 is_stmt 1 view .LVU34
 170              		.loc 1 61 10 is_stmt 0 view .LVU35
 171 000e 8DF80000 		strb	r0, [sp]
  62:Core/Src/ZDT_X42_V2.c **** 
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 5


  63:Core/Src/ZDT_X42_V2.c ****   switch(s)                             // 功能码
 172              		.loc 1 63 3 is_stmt 1 view .LVU36
 173 0012 1429     		cmp	r1, #20
 174 0014 69D8     		bhi	.L6
 175 0016 DFE801F0 		tbb	[pc, r1]
 176              	.L8:
 177 001a 0B       		.byte	(.L28-.L8)/2
 178 001b 18       		.byte	(.L27-.L8)/2
 179 001c 1C       		.byte	(.L26-.L8)/2
 180 001d 20       		.byte	(.L25-.L8)/2
 181 001e 24       		.byte	(.L24-.L8)/2
 182 001f 28       		.byte	(.L23-.L8)/2
 183 0020 2C       		.byte	(.L22-.L8)/2
 184 0021 30       		.byte	(.L21-.L8)/2
 185 0022 34       		.byte	(.L20-.L8)/2
 186 0023 38       		.byte	(.L19-.L8)/2
 187 0024 3C       		.byte	(.L18-.L8)/2
 188 0025 40       		.byte	(.L17-.L8)/2
 189 0026 44       		.byte	(.L16-.L8)/2
 190 0027 48       		.byte	(.L15-.L8)/2
 191 0028 4C       		.byte	(.L14-.L8)/2
 192 0029 50       		.byte	(.L13-.L8)/2
 193 002a 54       		.byte	(.L12-.L8)/2
 194 002b 58       		.byte	(.L11-.L8)/2
 195 002c 5C       		.byte	(.L10-.L8)/2
 196 002d 60       		.byte	(.L9-.L8)/2
 197 002e 70       		.byte	(.L7-.L8)/2
 198 002f 00       		.p2align 1
 199              	.L28:
  64:Core/Src/ZDT_X42_V2.c ****   {
  65:Core/Src/ZDT_X42_V2.c ****     case S_VER   : cmd[1] = 0x1F; break;                  /* 读取固件版本和对应的硬件版本 */
 200              		.loc 1 65 20 view .LVU37
 201              		.loc 1 65 27 is_stmt 0 view .LVU38
 202 0030 1F23     		movs	r3, #31
 203 0032 8DF80130 		strb	r3, [sp, #1]
 204              		.loc 1 65 35 is_stmt 1 view .LVU39
  66:Core/Src/ZDT_X42_V2.c ****     case S_RL    : cmd[1] = 0x20; break;                  /* 读取读取相电阻和相电感 */
  67:Core/Src/ZDT_X42_V2.c ****     case S_PID   : cmd[1] = 0x21; break;                  /* 读取PID参数 */
  68:Core/Src/ZDT_X42_V2.c ****     case S_ORG   : cmd[1] = 0x22; break;                  /* 读取回零参数 */
  69:Core/Src/ZDT_X42_V2.c ****     case S_VBUS  : cmd[1] = 0x24; break;                  /* 读取总线电压 */
  70:Core/Src/ZDT_X42_V2.c ****     case S_CBUS  : cmd[1] = 0x26; break;                  /* 读取总线电流 */
  71:Core/Src/ZDT_X42_V2.c ****     case S_CPHA  : cmd[1] = 0x27; break;                  /* 读取相电流 */
  72:Core/Src/ZDT_X42_V2.c ****     case S_ENC   : cmd[1] = 0x29; break;                  /* 读取编码器原始值 */
  73:Core/Src/ZDT_X42_V2.c ****     case S_CPUL  : cmd[1] = 0x30; break;                  /* 读取实时脉冲数（根据实时位置计算得到的
  74:Core/Src/ZDT_X42_V2.c ****     case S_ENCL  : cmd[1] = 0x31; break;                  /* 读取经过线性化校准后的编码器值 */
  75:Core/Src/ZDT_X42_V2.c ****     case S_TPUL  : cmd[1] = 0x32; break;                  /* 读取输入脉冲数 */
  76:Core/Src/ZDT_X42_V2.c ****     case S_TPOS  : cmd[1] = 0x33; break;                  /* 读取电机目标位置 */
  77:Core/Src/ZDT_X42_V2.c ****     case S_OPOS  : cmd[1] = 0x34; break;                  /* 读取电机实时设定的目标位置（开环模式的
  78:Core/Src/ZDT_X42_V2.c ****     case S_VEL   : cmd[1] = 0x35; break;                  /* 读取电机实时转速 */
  79:Core/Src/ZDT_X42_V2.c ****     case S_CPOS  : cmd[1] = 0x36; break;                  /* 读取电机实时位置（基于角度编码器累加的
  80:Core/Src/ZDT_X42_V2.c ****     case S_PERR  : cmd[1] = 0x37; break;                  /* 读取电机位置误差 */
  81:Core/Src/ZDT_X42_V2.c ****     case S_TEMP  : cmd[1] = 0x39; break;                  /* 读取电机实时温度 */
  82:Core/Src/ZDT_X42_V2.c ****     case S_SFLAG : cmd[1] = 0x3A; break;                  /* 读取状态标志位 */
  83:Core/Src/ZDT_X42_V2.c ****     case S_OFLAG : cmd[1] = 0x3B; break;                  /* 读取回零状态标志位 */
  84:Core/Src/ZDT_X42_V2.c ****     case S_Conf  : cmd[1] = 0x42; cmd[2] = 0x6C; break;   /* 读取驱动参数 */
  85:Core/Src/ZDT_X42_V2.c ****     case S_State : cmd[1] = 0x43; cmd[2] = 0x7A; break;   /* 读取系统状态参数 */
  86:Core/Src/ZDT_X42_V2.c ****     default: break;
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 6


  87:Core/Src/ZDT_X42_V2.c ****   }
  88:Core/Src/ZDT_X42_V2.c **** 
  89:Core/Src/ZDT_X42_V2.c ****   // 发送命令
  90:Core/Src/ZDT_X42_V2.c ****   if(s >= S_Conf)
 205              		.loc 1 90 3 view .LVU40
 206              	.L29:
  91:Core/Src/ZDT_X42_V2.c ****   {
  92:Core/Src/ZDT_X42_V2.c ****     cmd[3] = 0x6B; can_SendCmd(cmd, 4);
  93:Core/Src/ZDT_X42_V2.c ****   }
  94:Core/Src/ZDT_X42_V2.c ****   else
  95:Core/Src/ZDT_X42_V2.c ****   {
  96:Core/Src/ZDT_X42_V2.c ****     cmd[2] = 0x6B; can_SendCmd(cmd, 3);
 207              		.loc 1 96 5 view .LVU41
 208              		.loc 1 96 12 is_stmt 0 view .LVU42
 209 0036 6B23     		movs	r3, #107
 210 0038 8DF80230 		strb	r3, [sp, #2]
 211              		.loc 1 96 20 is_stmt 1 view .LVU43
 212 003c 0321     		movs	r1, #3
 213              	.LVL7:
 214              		.loc 1 96 20 is_stmt 0 view .LVU44
 215 003e 6846     		mov	r0, sp
 216              	.LVL8:
 217              		.loc 1 96 20 view .LVU45
 218 0040 FFF7FEFF 		bl	can_SendCmd
 219              	.LVL9:
 220              	.L5:
  97:Core/Src/ZDT_X42_V2.c ****   }
  98:Core/Src/ZDT_X42_V2.c **** }
 221              		.loc 1 98 1 view .LVU46
 222 0044 05B0     		add	sp, sp, #20
 223              	.LCFI8:
 224              		.cfi_remember_state
 225              		.cfi_def_cfa_offset 4
 226              		@ sp needed
 227 0046 5DF804FB 		ldr	pc, [sp], #4
 228              	.LVL10:
 229              	.L27:
 230              	.LCFI9:
 231              		.cfi_restore_state
  66:Core/Src/ZDT_X42_V2.c ****     case S_PID   : cmd[1] = 0x21; break;                  /* 读取PID参数 */
 232              		.loc 1 66 20 is_stmt 1 view .LVU47
  66:Core/Src/ZDT_X42_V2.c ****     case S_PID   : cmd[1] = 0x21; break;                  /* 读取PID参数 */
 233              		.loc 1 66 27 is_stmt 0 view .LVU48
 234 004a 2023     		movs	r3, #32
 235 004c 8DF80130 		strb	r3, [sp, #1]
  66:Core/Src/ZDT_X42_V2.c ****     case S_PID   : cmd[1] = 0x21; break;                  /* 读取PID参数 */
 236              		.loc 1 66 35 is_stmt 1 view .LVU49
  90:Core/Src/ZDT_X42_V2.c ****   {
 237              		.loc 1 90 3 view .LVU50
 238 0050 F1E7     		b	.L29
 239              	.L26:
  67:Core/Src/ZDT_X42_V2.c ****     case S_ORG   : cmd[1] = 0x22; break;                  /* 读取回零参数 */
 240              		.loc 1 67 20 view .LVU51
  67:Core/Src/ZDT_X42_V2.c ****     case S_ORG   : cmd[1] = 0x22; break;                  /* 读取回零参数 */
 241              		.loc 1 67 27 is_stmt 0 view .LVU52
 242 0052 2123     		movs	r3, #33
 243 0054 8DF80130 		strb	r3, [sp, #1]
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 7


  67:Core/Src/ZDT_X42_V2.c ****     case S_ORG   : cmd[1] = 0x22; break;                  /* 读取回零参数 */
 244              		.loc 1 67 35 is_stmt 1 view .LVU53
  90:Core/Src/ZDT_X42_V2.c ****   {
 245              		.loc 1 90 3 view .LVU54
 246 0058 EDE7     		b	.L29
 247              	.L25:
  68:Core/Src/ZDT_X42_V2.c ****     case S_VBUS  : cmd[1] = 0x24; break;                  /* 读取总线电压 */
 248              		.loc 1 68 20 view .LVU55
  68:Core/Src/ZDT_X42_V2.c ****     case S_VBUS  : cmd[1] = 0x24; break;                  /* 读取总线电压 */
 249              		.loc 1 68 27 is_stmt 0 view .LVU56
 250 005a 2223     		movs	r3, #34
 251 005c 8DF80130 		strb	r3, [sp, #1]
  68:Core/Src/ZDT_X42_V2.c ****     case S_VBUS  : cmd[1] = 0x24; break;                  /* 读取总线电压 */
 252              		.loc 1 68 35 is_stmt 1 view .LVU57
  90:Core/Src/ZDT_X42_V2.c ****   {
 253              		.loc 1 90 3 view .LVU58
 254 0060 E9E7     		b	.L29
 255              	.L24:
  69:Core/Src/ZDT_X42_V2.c ****     case S_CBUS  : cmd[1] = 0x26; break;                  /* 读取总线电流 */
 256              		.loc 1 69 20 view .LVU59
  69:Core/Src/ZDT_X42_V2.c ****     case S_CBUS  : cmd[1] = 0x26; break;                  /* 读取总线电流 */
 257              		.loc 1 69 27 is_stmt 0 view .LVU60
 258 0062 2423     		movs	r3, #36
 259 0064 8DF80130 		strb	r3, [sp, #1]
  69:Core/Src/ZDT_X42_V2.c ****     case S_CBUS  : cmd[1] = 0x26; break;                  /* 读取总线电流 */
 260              		.loc 1 69 35 is_stmt 1 view .LVU61
  90:Core/Src/ZDT_X42_V2.c ****   {
 261              		.loc 1 90 3 view .LVU62
 262 0068 E5E7     		b	.L29
 263              	.L23:
  70:Core/Src/ZDT_X42_V2.c ****     case S_CPHA  : cmd[1] = 0x27; break;                  /* 读取相电流 */
 264              		.loc 1 70 20 view .LVU63
  70:Core/Src/ZDT_X42_V2.c ****     case S_CPHA  : cmd[1] = 0x27; break;                  /* 读取相电流 */
 265              		.loc 1 70 27 is_stmt 0 view .LVU64
 266 006a 2623     		movs	r3, #38
 267 006c 8DF80130 		strb	r3, [sp, #1]
  70:Core/Src/ZDT_X42_V2.c ****     case S_CPHA  : cmd[1] = 0x27; break;                  /* 读取相电流 */
 268              		.loc 1 70 35 is_stmt 1 view .LVU65
  90:Core/Src/ZDT_X42_V2.c ****   {
 269              		.loc 1 90 3 view .LVU66
 270 0070 E1E7     		b	.L29
 271              	.L22:
  71:Core/Src/ZDT_X42_V2.c ****     case S_ENC   : cmd[1] = 0x29; break;                  /* 读取编码器原始值 */
 272              		.loc 1 71 20 view .LVU67
  71:Core/Src/ZDT_X42_V2.c ****     case S_ENC   : cmd[1] = 0x29; break;                  /* 读取编码器原始值 */
 273              		.loc 1 71 27 is_stmt 0 view .LVU68
 274 0072 2723     		movs	r3, #39
 275 0074 8DF80130 		strb	r3, [sp, #1]
  71:Core/Src/ZDT_X42_V2.c ****     case S_ENC   : cmd[1] = 0x29; break;                  /* 读取编码器原始值 */
 276              		.loc 1 71 35 is_stmt 1 view .LVU69
  90:Core/Src/ZDT_X42_V2.c ****   {
 277              		.loc 1 90 3 view .LVU70
 278 0078 DDE7     		b	.L29
 279              	.L21:
  72:Core/Src/ZDT_X42_V2.c ****     case S_CPUL  : cmd[1] = 0x30; break;                  /* 读取实时脉冲数（根据实时位置计算得到的
 280              		.loc 1 72 20 view .LVU71
  72:Core/Src/ZDT_X42_V2.c ****     case S_CPUL  : cmd[1] = 0x30; break;                  /* 读取实时脉冲数（根据实时位置计算得到的
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 8


 281              		.loc 1 72 27 is_stmt 0 view .LVU72
 282 007a 2923     		movs	r3, #41
 283 007c 8DF80130 		strb	r3, [sp, #1]
  72:Core/Src/ZDT_X42_V2.c ****     case S_CPUL  : cmd[1] = 0x30; break;                  /* 读取实时脉冲数（根据实时位置计算得到的
 284              		.loc 1 72 35 is_stmt 1 view .LVU73
  90:Core/Src/ZDT_X42_V2.c ****   {
 285              		.loc 1 90 3 view .LVU74
 286 0080 D9E7     		b	.L29
 287              	.L20:
  73:Core/Src/ZDT_X42_V2.c ****     case S_ENCL  : cmd[1] = 0x31; break;                  /* 读取经过线性化校准后的编码器值 */
 288              		.loc 1 73 20 view .LVU75
  73:Core/Src/ZDT_X42_V2.c ****     case S_ENCL  : cmd[1] = 0x31; break;                  /* 读取经过线性化校准后的编码器值 */
 289              		.loc 1 73 27 is_stmt 0 view .LVU76
 290 0082 3023     		movs	r3, #48
 291 0084 8DF80130 		strb	r3, [sp, #1]
  73:Core/Src/ZDT_X42_V2.c ****     case S_ENCL  : cmd[1] = 0x31; break;                  /* 读取经过线性化校准后的编码器值 */
 292              		.loc 1 73 35 is_stmt 1 view .LVU77
  90:Core/Src/ZDT_X42_V2.c ****   {
 293              		.loc 1 90 3 view .LVU78
 294 0088 D5E7     		b	.L29
 295              	.L19:
  74:Core/Src/ZDT_X42_V2.c ****     case S_TPUL  : cmd[1] = 0x32; break;                  /* 读取输入脉冲数 */
 296              		.loc 1 74 20 view .LVU79
  74:Core/Src/ZDT_X42_V2.c ****     case S_TPUL  : cmd[1] = 0x32; break;                  /* 读取输入脉冲数 */
 297              		.loc 1 74 27 is_stmt 0 view .LVU80
 298 008a 3123     		movs	r3, #49
 299 008c 8DF80130 		strb	r3, [sp, #1]
  74:Core/Src/ZDT_X42_V2.c ****     case S_TPUL  : cmd[1] = 0x32; break;                  /* 读取输入脉冲数 */
 300              		.loc 1 74 35 is_stmt 1 view .LVU81
  90:Core/Src/ZDT_X42_V2.c ****   {
 301              		.loc 1 90 3 view .LVU82
 302 0090 D1E7     		b	.L29
 303              	.L18:
  75:Core/Src/ZDT_X42_V2.c ****     case S_TPOS  : cmd[1] = 0x33; break;                  /* 读取电机目标位置 */
 304              		.loc 1 75 20 view .LVU83
  75:Core/Src/ZDT_X42_V2.c ****     case S_TPOS  : cmd[1] = 0x33; break;                  /* 读取电机目标位置 */
 305              		.loc 1 75 27 is_stmt 0 view .LVU84
 306 0092 3223     		movs	r3, #50
 307 0094 8DF80130 		strb	r3, [sp, #1]
  75:Core/Src/ZDT_X42_V2.c ****     case S_TPOS  : cmd[1] = 0x33; break;                  /* 读取电机目标位置 */
 308              		.loc 1 75 35 is_stmt 1 view .LVU85
  90:Core/Src/ZDT_X42_V2.c ****   {
 309              		.loc 1 90 3 view .LVU86
 310 0098 CDE7     		b	.L29
 311              	.L17:
  76:Core/Src/ZDT_X42_V2.c ****     case S_OPOS  : cmd[1] = 0x34; break;                  /* 读取电机实时设定的目标位置（开环模式的
 312              		.loc 1 76 20 view .LVU87
  76:Core/Src/ZDT_X42_V2.c ****     case S_OPOS  : cmd[1] = 0x34; break;                  /* 读取电机实时设定的目标位置（开环模式的
 313              		.loc 1 76 27 is_stmt 0 view .LVU88
 314 009a 3323     		movs	r3, #51
 315 009c 8DF80130 		strb	r3, [sp, #1]
  76:Core/Src/ZDT_X42_V2.c ****     case S_OPOS  : cmd[1] = 0x34; break;                  /* 读取电机实时设定的目标位置（开环模式的
 316              		.loc 1 76 35 is_stmt 1 view .LVU89
  90:Core/Src/ZDT_X42_V2.c ****   {
 317              		.loc 1 90 3 view .LVU90
 318 00a0 C9E7     		b	.L29
 319              	.L16:
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 9


  77:Core/Src/ZDT_X42_V2.c ****     case S_VEL   : cmd[1] = 0x35; break;                  /* 读取电机实时转速 */
 320              		.loc 1 77 20 view .LVU91
  77:Core/Src/ZDT_X42_V2.c ****     case S_VEL   : cmd[1] = 0x35; break;                  /* 读取电机实时转速 */
 321              		.loc 1 77 27 is_stmt 0 view .LVU92
 322 00a2 3423     		movs	r3, #52
 323 00a4 8DF80130 		strb	r3, [sp, #1]
  77:Core/Src/ZDT_X42_V2.c ****     case S_VEL   : cmd[1] = 0x35; break;                  /* 读取电机实时转速 */
 324              		.loc 1 77 35 is_stmt 1 view .LVU93
  90:Core/Src/ZDT_X42_V2.c ****   {
 325              		.loc 1 90 3 view .LVU94
 326 00a8 C5E7     		b	.L29
 327              	.L15:
  78:Core/Src/ZDT_X42_V2.c ****     case S_CPOS  : cmd[1] = 0x36; break;                  /* 读取电机实时位置（基于角度编码器累加的
 328              		.loc 1 78 20 view .LVU95
  78:Core/Src/ZDT_X42_V2.c ****     case S_CPOS  : cmd[1] = 0x36; break;                  /* 读取电机实时位置（基于角度编码器累加的
 329              		.loc 1 78 27 is_stmt 0 view .LVU96
 330 00aa 3523     		movs	r3, #53
 331 00ac 8DF80130 		strb	r3, [sp, #1]
  78:Core/Src/ZDT_X42_V2.c ****     case S_CPOS  : cmd[1] = 0x36; break;                  /* 读取电机实时位置（基于角度编码器累加的
 332              		.loc 1 78 35 is_stmt 1 view .LVU97
  90:Core/Src/ZDT_X42_V2.c ****   {
 333              		.loc 1 90 3 view .LVU98
 334 00b0 C1E7     		b	.L29
 335              	.L14:
  79:Core/Src/ZDT_X42_V2.c ****     case S_PERR  : cmd[1] = 0x37; break;                  /* 读取电机位置误差 */
 336              		.loc 1 79 20 view .LVU99
  79:Core/Src/ZDT_X42_V2.c ****     case S_PERR  : cmd[1] = 0x37; break;                  /* 读取电机位置误差 */
 337              		.loc 1 79 27 is_stmt 0 view .LVU100
 338 00b2 3623     		movs	r3, #54
 339 00b4 8DF80130 		strb	r3, [sp, #1]
  79:Core/Src/ZDT_X42_V2.c ****     case S_PERR  : cmd[1] = 0x37; break;                  /* 读取电机位置误差 */
 340              		.loc 1 79 35 is_stmt 1 view .LVU101
  90:Core/Src/ZDT_X42_V2.c ****   {
 341              		.loc 1 90 3 view .LVU102
 342 00b8 BDE7     		b	.L29
 343              	.L13:
  80:Core/Src/ZDT_X42_V2.c ****     case S_TEMP  : cmd[1] = 0x39; break;                  /* 读取电机实时温度 */
 344              		.loc 1 80 20 view .LVU103
  80:Core/Src/ZDT_X42_V2.c ****     case S_TEMP  : cmd[1] = 0x39; break;                  /* 读取电机实时温度 */
 345              		.loc 1 80 27 is_stmt 0 view .LVU104
 346 00ba 3723     		movs	r3, #55
 347 00bc 8DF80130 		strb	r3, [sp, #1]
  80:Core/Src/ZDT_X42_V2.c ****     case S_TEMP  : cmd[1] = 0x39; break;                  /* 读取电机实时温度 */
 348              		.loc 1 80 35 is_stmt 1 view .LVU105
  90:Core/Src/ZDT_X42_V2.c ****   {
 349              		.loc 1 90 3 view .LVU106
 350 00c0 B9E7     		b	.L29
 351              	.L12:
  81:Core/Src/ZDT_X42_V2.c ****     case S_SFLAG : cmd[1] = 0x3A; break;                  /* 读取状态标志位 */
 352              		.loc 1 81 20 view .LVU107
  81:Core/Src/ZDT_X42_V2.c ****     case S_SFLAG : cmd[1] = 0x3A; break;                  /* 读取状态标志位 */
 353              		.loc 1 81 27 is_stmt 0 view .LVU108
 354 00c2 3923     		movs	r3, #57
 355 00c4 8DF80130 		strb	r3, [sp, #1]
  81:Core/Src/ZDT_X42_V2.c ****     case S_SFLAG : cmd[1] = 0x3A; break;                  /* 读取状态标志位 */
 356              		.loc 1 81 35 is_stmt 1 view .LVU109
  90:Core/Src/ZDT_X42_V2.c ****   {
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 10


 357              		.loc 1 90 3 view .LVU110
 358 00c8 B5E7     		b	.L29
 359              	.L11:
  82:Core/Src/ZDT_X42_V2.c ****     case S_OFLAG : cmd[1] = 0x3B; break;                  /* 读取回零状态标志位 */
 360              		.loc 1 82 20 view .LVU111
  82:Core/Src/ZDT_X42_V2.c ****     case S_OFLAG : cmd[1] = 0x3B; break;                  /* 读取回零状态标志位 */
 361              		.loc 1 82 27 is_stmt 0 view .LVU112
 362 00ca 3A23     		movs	r3, #58
 363 00cc 8DF80130 		strb	r3, [sp, #1]
  82:Core/Src/ZDT_X42_V2.c ****     case S_OFLAG : cmd[1] = 0x3B; break;                  /* 读取回零状态标志位 */
 364              		.loc 1 82 35 is_stmt 1 view .LVU113
  90:Core/Src/ZDT_X42_V2.c ****   {
 365              		.loc 1 90 3 view .LVU114
 366 00d0 B1E7     		b	.L29
 367              	.L10:
  83:Core/Src/ZDT_X42_V2.c ****     case S_Conf  : cmd[1] = 0x42; cmd[2] = 0x6C; break;   /* 读取驱动参数 */
 368              		.loc 1 83 20 view .LVU115
  83:Core/Src/ZDT_X42_V2.c ****     case S_Conf  : cmd[1] = 0x42; cmd[2] = 0x6C; break;   /* 读取驱动参数 */
 369              		.loc 1 83 27 is_stmt 0 view .LVU116
 370 00d2 3B23     		movs	r3, #59
 371 00d4 8DF80130 		strb	r3, [sp, #1]
  83:Core/Src/ZDT_X42_V2.c ****     case S_Conf  : cmd[1] = 0x42; cmd[2] = 0x6C; break;   /* 读取驱动参数 */
 372              		.loc 1 83 35 is_stmt 1 view .LVU117
  90:Core/Src/ZDT_X42_V2.c ****   {
 373              		.loc 1 90 3 view .LVU118
 374 00d8 ADE7     		b	.L29
 375              	.L9:
  84:Core/Src/ZDT_X42_V2.c ****     case S_State : cmd[1] = 0x43; cmd[2] = 0x7A; break;   /* 读取系统状态参数 */
 376              		.loc 1 84 20 view .LVU119
  84:Core/Src/ZDT_X42_V2.c ****     case S_State : cmd[1] = 0x43; cmd[2] = 0x7A; break;   /* 读取系统状态参数 */
 377              		.loc 1 84 27 is_stmt 0 view .LVU120
 378 00da 4223     		movs	r3, #66
 379 00dc 8DF80130 		strb	r3, [sp, #1]
  84:Core/Src/ZDT_X42_V2.c ****     case S_State : cmd[1] = 0x43; cmd[2] = 0x7A; break;   /* 读取系统状态参数 */
 380              		.loc 1 84 35 is_stmt 1 view .LVU121
  84:Core/Src/ZDT_X42_V2.c ****     case S_State : cmd[1] = 0x43; cmd[2] = 0x7A; break;   /* 读取系统状态参数 */
 381              		.loc 1 84 42 is_stmt 0 view .LVU122
 382 00e0 6C23     		movs	r3, #108
 383 00e2 8DF80230 		strb	r3, [sp, #2]
  84:Core/Src/ZDT_X42_V2.c ****     case S_State : cmd[1] = 0x43; cmd[2] = 0x7A; break;   /* 读取系统状态参数 */
 384              		.loc 1 84 50 is_stmt 1 view .LVU123
 385              	.L30:
  90:Core/Src/ZDT_X42_V2.c ****   {
 386              		.loc 1 90 3 view .LVU124
  90:Core/Src/ZDT_X42_V2.c ****   {
 387              		.loc 1 90 5 is_stmt 0 view .LVU125
 388 00e6 1229     		cmp	r1, #18
 389 00e8 A5D9     		bls	.L29
 390              	.L6:
  92:Core/Src/ZDT_X42_V2.c ****   }
 391              		.loc 1 92 5 is_stmt 1 view .LVU126
  92:Core/Src/ZDT_X42_V2.c ****   }
 392              		.loc 1 92 12 is_stmt 0 view .LVU127
 393 00ea 6B23     		movs	r3, #107
 394 00ec 8DF80330 		strb	r3, [sp, #3]
  92:Core/Src/ZDT_X42_V2.c ****   }
 395              		.loc 1 92 20 is_stmt 1 view .LVU128
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 11


 396 00f0 0421     		movs	r1, #4
 397              	.LVL11:
  92:Core/Src/ZDT_X42_V2.c ****   }
 398              		.loc 1 92 20 is_stmt 0 view .LVU129
 399 00f2 6846     		mov	r0, sp
 400              	.LVL12:
  92:Core/Src/ZDT_X42_V2.c ****   }
 401              		.loc 1 92 20 view .LVU130
 402 00f4 FFF7FEFF 		bl	can_SendCmd
 403              	.LVL13:
  92:Core/Src/ZDT_X42_V2.c ****   }
 404              		.loc 1 92 20 view .LVU131
 405 00f8 A4E7     		b	.L5
 406              	.LVL14:
 407              	.L7:
  85:Core/Src/ZDT_X42_V2.c ****     default: break;
 408              		.loc 1 85 20 is_stmt 1 view .LVU132
  85:Core/Src/ZDT_X42_V2.c ****     default: break;
 409              		.loc 1 85 27 is_stmt 0 view .LVU133
 410 00fa 4323     		movs	r3, #67
 411 00fc 8DF80130 		strb	r3, [sp, #1]
  85:Core/Src/ZDT_X42_V2.c ****     default: break;
 412              		.loc 1 85 35 is_stmt 1 view .LVU134
  85:Core/Src/ZDT_X42_V2.c ****     default: break;
 413              		.loc 1 85 42 is_stmt 0 view .LVU135
 414 0100 7A23     		movs	r3, #122
 415 0102 8DF80230 		strb	r3, [sp, #2]
  85:Core/Src/ZDT_X42_V2.c ****     default: break;
 416              		.loc 1 85 50 is_stmt 1 view .LVU136
 417 0106 EEE7     		b	.L30
 418              		.cfi_endproc
 419              	.LFE136:
 421              		.section	.text.ZDT_X42_V2_Modify_Ctrl_Mode,"ax",%progbits
 422              		.align	1
 423              		.global	ZDT_X42_V2_Modify_Ctrl_Mode
 424              		.syntax unified
 425              		.thumb
 426              		.thumb_func
 428              	ZDT_X42_V2_Modify_Ctrl_Mode:
 429              	.LVL15:
 430              	.LFB137:
  99:Core/Src/ZDT_X42_V2.c **** 
 100:Core/Src/ZDT_X42_V2.c **** /**
 101:Core/Src/ZDT_X42_V2.c ****   * @brief    修改开环/闭环控制模式
 102:Core/Src/ZDT_X42_V2.c ****   * @param    addr     ：电机地址
 103:Core/Src/ZDT_X42_V2.c ****   * @param    svF      ：是否存储标志，false为不存储，true为存储
 104:Core/Src/ZDT_X42_V2.c ****   * @param    ctrl_mode：控制模式（对应屏幕上的P_Pul菜单），0是关闭脉冲输入引脚，1是开环模式，2是闭
 105:Core/Src/ZDT_X42_V2.c ****   * @retval   地址 + 功能码 + 命令状态 + 校验字节
 106:Core/Src/ZDT_X42_V2.c ****   */
 107:Core/Src/ZDT_X42_V2.c **** void ZDT_X42_V2_Modify_Ctrl_Mode(uint8_t addr, bool svF, uint8_t ctrl_mode)
 108:Core/Src/ZDT_X42_V2.c **** {
 431              		.loc 1 108 1 view -0
 432              		.cfi_startproc
 433              		@ args = 0, pretend = 0, frame = 16
 434              		@ frame_needed = 0, uses_anonymous_args = 0
 435              		.loc 1 108 1 is_stmt 0 view .LVU138
 436 0000 00B5     		push	{lr}
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 12


 437              	.LCFI10:
 438              		.cfi_def_cfa_offset 4
 439              		.cfi_offset 14, -4
 440 0002 85B0     		sub	sp, sp, #20
 441              	.LCFI11:
 442              		.cfi_def_cfa_offset 24
 109:Core/Src/ZDT_X42_V2.c ****   uint8_t cmd[16] = {0};
 443              		.loc 1 109 3 is_stmt 1 view .LVU139
 444              		.loc 1 109 11 is_stmt 0 view .LVU140
 445 0004 0023     		movs	r3, #0
 446 0006 0093     		str	r3, [sp]
 447 0008 0193     		str	r3, [sp, #4]
 448 000a 0293     		str	r3, [sp, #8]
 449 000c 0393     		str	r3, [sp, #12]
 110:Core/Src/ZDT_X42_V2.c **** 
 111:Core/Src/ZDT_X42_V2.c ****   // 装载命令
 112:Core/Src/ZDT_X42_V2.c ****   cmd[0] =  addr;                       // 地址
 450              		.loc 1 112 3 is_stmt 1 view .LVU141
 451              		.loc 1 112 10 is_stmt 0 view .LVU142
 452 000e 8DF80000 		strb	r0, [sp]
 113:Core/Src/ZDT_X42_V2.c ****   cmd[1] =  0x46;                       // 功能码
 453              		.loc 1 113 3 is_stmt 1 view .LVU143
 454              		.loc 1 113 10 is_stmt 0 view .LVU144
 455 0012 4623     		movs	r3, #70
 456 0014 8DF80130 		strb	r3, [sp, #1]
 114:Core/Src/ZDT_X42_V2.c ****   cmd[2] =  0x69;                       // 辅助码
 457              		.loc 1 114 3 is_stmt 1 view .LVU145
 458              		.loc 1 114 10 is_stmt 0 view .LVU146
 459 0018 6923     		movs	r3, #105
 460 001a 8DF80230 		strb	r3, [sp, #2]
 115:Core/Src/ZDT_X42_V2.c ****   cmd[3] =  svF;                        // 是否存储标志，false为不存储，true为存储
 461              		.loc 1 115 3 is_stmt 1 view .LVU147
 462              		.loc 1 115 10 is_stmt 0 view .LVU148
 463 001e 8DF80310 		strb	r1, [sp, #3]
 116:Core/Src/ZDT_X42_V2.c ****   cmd[4] =  ctrl_mode;                  // 控制模式（对应屏幕上的Ctrl_Mode菜单），0是开环模式，1是F
 464              		.loc 1 116 3 is_stmt 1 view .LVU149
 465              		.loc 1 116 10 is_stmt 0 view .LVU150
 466 0022 8DF80420 		strb	r2, [sp, #4]
 117:Core/Src/ZDT_X42_V2.c ****   cmd[5] =  0x6B;                       // 校验字节
 467              		.loc 1 117 3 is_stmt 1 view .LVU151
 468              		.loc 1 117 10 is_stmt 0 view .LVU152
 469 0026 6B23     		movs	r3, #107
 470 0028 8DF80530 		strb	r3, [sp, #5]
 118:Core/Src/ZDT_X42_V2.c **** 
 119:Core/Src/ZDT_X42_V2.c ****   // 发送命令
 120:Core/Src/ZDT_X42_V2.c ****   can_SendCmd(cmd, 6);
 471              		.loc 1 120 3 is_stmt 1 view .LVU153
 472 002c 0621     		movs	r1, #6
 473              	.LVL16:
 474              		.loc 1 120 3 is_stmt 0 view .LVU154
 475 002e 6846     		mov	r0, sp
 476              	.LVL17:
 477              		.loc 1 120 3 view .LVU155
 478 0030 FFF7FEFF 		bl	can_SendCmd
 479              	.LVL18:
 121:Core/Src/ZDT_X42_V2.c **** }
 480              		.loc 1 121 1 view .LVU156
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 13


 481 0034 05B0     		add	sp, sp, #20
 482              	.LCFI12:
 483              		.cfi_def_cfa_offset 4
 484              		@ sp needed
 485 0036 5DF804FB 		ldr	pc, [sp], #4
 486              		.cfi_endproc
 487              	.LFE137:
 489              		.section	.text.ZDT_X42_V2_En_Control,"ax",%progbits
 490              		.align	1
 491              		.global	ZDT_X42_V2_En_Control
 492              		.syntax unified
 493              		.thumb
 494              		.thumb_func
 496              	ZDT_X42_V2_En_Control:
 497              	.LVL19:
 498              	.LFB138:
 122:Core/Src/ZDT_X42_V2.c **** 
 123:Core/Src/ZDT_X42_V2.c **** /**
 124:Core/Src/ZDT_X42_V2.c ****   * @brief    使能信号控制
 125:Core/Src/ZDT_X42_V2.c ****   * @param    addr  ：电机地址
 126:Core/Src/ZDT_X42_V2.c ****   * @param    state ：使能状态     ，true为使能电机，false为关闭电机
 127:Core/Src/ZDT_X42_V2.c ****   * @param    snF   ：多机同步标志 ，0为不启用，其余值启用
 128:Core/Src/ZDT_X42_V2.c ****   * @retval   地址 + 功能码 + 命令状态 + 校验字节
 129:Core/Src/ZDT_X42_V2.c ****   */
 130:Core/Src/ZDT_X42_V2.c **** void ZDT_X42_V2_En_Control(uint8_t addr, bool state, uint8_t snF)
 131:Core/Src/ZDT_X42_V2.c **** {
 499              		.loc 1 131 1 is_stmt 1 view -0
 500              		.cfi_startproc
 501              		@ args = 0, pretend = 0, frame = 16
 502              		@ frame_needed = 0, uses_anonymous_args = 0
 503              		.loc 1 131 1 is_stmt 0 view .LVU158
 504 0000 00B5     		push	{lr}
 505              	.LCFI13:
 506              		.cfi_def_cfa_offset 4
 507              		.cfi_offset 14, -4
 508 0002 85B0     		sub	sp, sp, #20
 509              	.LCFI14:
 510              		.cfi_def_cfa_offset 24
 132:Core/Src/ZDT_X42_V2.c ****   uint8_t cmd[16] = {0};
 511              		.loc 1 132 3 is_stmt 1 view .LVU159
 512              		.loc 1 132 11 is_stmt 0 view .LVU160
 513 0004 0023     		movs	r3, #0
 514 0006 0093     		str	r3, [sp]
 515 0008 0193     		str	r3, [sp, #4]
 516 000a 0293     		str	r3, [sp, #8]
 517 000c 0393     		str	r3, [sp, #12]
 133:Core/Src/ZDT_X42_V2.c **** 
 134:Core/Src/ZDT_X42_V2.c ****   // 装载命令
 135:Core/Src/ZDT_X42_V2.c ****   cmd[0] =  addr;                       // 地址
 518              		.loc 1 135 3 is_stmt 1 view .LVU161
 519              		.loc 1 135 10 is_stmt 0 view .LVU162
 520 000e 8DF80000 		strb	r0, [sp]
 136:Core/Src/ZDT_X42_V2.c ****   cmd[1] =  0xF3;                       // 功能码
 521              		.loc 1 136 3 is_stmt 1 view .LVU163
 522              		.loc 1 136 10 is_stmt 0 view .LVU164
 523 0012 F323     		movs	r3, #243
 524 0014 8DF80130 		strb	r3, [sp, #1]
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 14


 137:Core/Src/ZDT_X42_V2.c ****   cmd[2] =  0xAB;                       // 辅助码
 525              		.loc 1 137 3 is_stmt 1 view .LVU165
 526              		.loc 1 137 10 is_stmt 0 view .LVU166
 527 0018 AB23     		movs	r3, #171
 528 001a 8DF80230 		strb	r3, [sp, #2]
 138:Core/Src/ZDT_X42_V2.c ****   cmd[3] =  (uint8_t)state;             // 使能状态
 529              		.loc 1 138 3 is_stmt 1 view .LVU167
 530              		.loc 1 138 10 is_stmt 0 view .LVU168
 531 001e 8DF80310 		strb	r1, [sp, #3]
 139:Core/Src/ZDT_X42_V2.c ****   cmd[4] =  snF;                        // 多机同步运动标志
 532              		.loc 1 139 3 is_stmt 1 view .LVU169
 533              		.loc 1 139 10 is_stmt 0 view .LVU170
 534 0022 8DF80420 		strb	r2, [sp, #4]
 140:Core/Src/ZDT_X42_V2.c ****   cmd[5] =  0x6B;                       // 校验字节
 535              		.loc 1 140 3 is_stmt 1 view .LVU171
 536              		.loc 1 140 10 is_stmt 0 view .LVU172
 537 0026 6B23     		movs	r3, #107
 538 0028 8DF80530 		strb	r3, [sp, #5]
 141:Core/Src/ZDT_X42_V2.c **** 
 142:Core/Src/ZDT_X42_V2.c ****   // 发送命令
 143:Core/Src/ZDT_X42_V2.c ****   can_SendCmd(cmd, 6);
 539              		.loc 1 143 3 is_stmt 1 view .LVU173
 540 002c 0621     		movs	r1, #6
 541              	.LVL20:
 542              		.loc 1 143 3 is_stmt 0 view .LVU174
 543 002e 6846     		mov	r0, sp
 544              	.LVL21:
 545              		.loc 1 143 3 view .LVU175
 546 0030 FFF7FEFF 		bl	can_SendCmd
 547              	.LVL22:
 144:Core/Src/ZDT_X42_V2.c **** }
 548              		.loc 1 144 1 view .LVU176
 549 0034 05B0     		add	sp, sp, #20
 550              	.LCFI15:
 551              		.cfi_def_cfa_offset 4
 552              		@ sp needed
 553 0036 5DF804FB 		ldr	pc, [sp], #4
 554              		.cfi_endproc
 555              	.LFE138:
 557              		.section	.text.ZDT_X42_V2_Torque_Control,"ax",%progbits
 558              		.align	1
 559              		.global	ZDT_X42_V2_Torque_Control
 560              		.syntax unified
 561              		.thumb
 562              		.thumb_func
 564              	ZDT_X42_V2_Torque_Control:
 565              	.LVL23:
 566              	.LFB139:
 145:Core/Src/ZDT_X42_V2.c **** 
 146:Core/Src/ZDT_X42_V2.c **** /**
 147:Core/Src/ZDT_X42_V2.c ****   * @brief    力矩模式
 148:Core/Src/ZDT_X42_V2.c ****   * @param    addr  ：电机地址
 149:Core/Src/ZDT_X42_V2.c ****   * @param    sign  ：符号         ，0为正，其余值为负
 150:Core/Src/ZDT_X42_V2.c ****   * @param    t_ramp：斜率(Ma/s)   ，范围0 - 65535Ma/s
 151:Core/Src/ZDT_X42_V2.c ****   * @param    torque：力矩(Ma)     ，范围0 - 4000Ma
 152:Core/Src/ZDT_X42_V2.c ****   * @param    snF   ：多机同步标志 ，0为不启用，其余值启用
 153:Core/Src/ZDT_X42_V2.c ****   * @retval   地址 + 功能码 + 命令状态 + 校验字节
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 15


 154:Core/Src/ZDT_X42_V2.c ****   */
 155:Core/Src/ZDT_X42_V2.c **** void ZDT_X42_V2_Torque_Control(uint8_t addr, uint8_t sign, uint16_t t_ramp, uint16_t torque, uint8_
 156:Core/Src/ZDT_X42_V2.c **** {
 567              		.loc 1 156 1 is_stmt 1 view -0
 568              		.cfi_startproc
 569              		@ args = 4, pretend = 0, frame = 16
 570              		@ frame_needed = 0, uses_anonymous_args = 0
 571              		.loc 1 156 1 is_stmt 0 view .LVU178
 572 0000 10B5     		push	{r4, lr}
 573              	.LCFI16:
 574              		.cfi_def_cfa_offset 8
 575              		.cfi_offset 4, -8
 576              		.cfi_offset 14, -4
 577 0002 84B0     		sub	sp, sp, #16
 578              	.LCFI17:
 579              		.cfi_def_cfa_offset 24
 157:Core/Src/ZDT_X42_V2.c ****   uint8_t cmd[16] = {0};
 580              		.loc 1 157 3 is_stmt 1 view .LVU179
 581              		.loc 1 157 11 is_stmt 0 view .LVU180
 582 0004 0024     		movs	r4, #0
 583 0006 0094     		str	r4, [sp]
 584 0008 0194     		str	r4, [sp, #4]
 585 000a 0294     		str	r4, [sp, #8]
 586 000c 0394     		str	r4, [sp, #12]
 158:Core/Src/ZDT_X42_V2.c **** 
 159:Core/Src/ZDT_X42_V2.c ****   // 装载命令
 160:Core/Src/ZDT_X42_V2.c ****   cmd[0] =  addr;                       // 地址
 587              		.loc 1 160 3 is_stmt 1 view .LVU181
 588              		.loc 1 160 10 is_stmt 0 view .LVU182
 589 000e 8DF80000 		strb	r0, [sp]
 161:Core/Src/ZDT_X42_V2.c ****   cmd[1] =  0xF5;                       // 功能码
 590              		.loc 1 161 3 is_stmt 1 view .LVU183
 591              		.loc 1 161 10 is_stmt 0 view .LVU184
 592 0012 F520     		movs	r0, #245
 593              	.LVL24:
 594              		.loc 1 161 10 view .LVU185
 595 0014 8DF80100 		strb	r0, [sp, #1]
 162:Core/Src/ZDT_X42_V2.c ****   cmd[2] =  sign;                       // 符号（方向）
 596              		.loc 1 162 3 is_stmt 1 view .LVU186
 597              		.loc 1 162 10 is_stmt 0 view .LVU187
 598 0018 8DF80210 		strb	r1, [sp, #2]
 163:Core/Src/ZDT_X42_V2.c ****   cmd[3] =  (uint8_t)(t_ramp >> 8);     // 力矩斜率(Ma/s)高8位字节
 599              		.loc 1 163 3 is_stmt 1 view .LVU188
 600              		.loc 1 163 13 is_stmt 0 view .LVU189
 601 001c 110A     		lsrs	r1, r2, #8
 602              	.LVL25:
 603              		.loc 1 163 10 view .LVU190
 604 001e 8DF80310 		strb	r1, [sp, #3]
 164:Core/Src/ZDT_X42_V2.c ****   cmd[4] =  (uint8_t)(t_ramp >> 0);     // 力矩斜率(Ma/s)低8位字节
 605              		.loc 1 164 3 is_stmt 1 view .LVU191
 606              		.loc 1 164 10 is_stmt 0 view .LVU192
 607 0022 8DF80420 		strb	r2, [sp, #4]
 165:Core/Src/ZDT_X42_V2.c ****   cmd[5] =  (uint8_t)(torque >> 8);     // 力矩(Ma)高8位字节
 608              		.loc 1 165 3 is_stmt 1 view .LVU193
 609              		.loc 1 165 13 is_stmt 0 view .LVU194
 610 0026 1A0A     		lsrs	r2, r3, #8
 611              	.LVL26:
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 16


 612              		.loc 1 165 10 view .LVU195
 613 0028 8DF80520 		strb	r2, [sp, #5]
 166:Core/Src/ZDT_X42_V2.c ****   cmd[6] =  (uint8_t)(torque >> 0);     // 力矩(Ma)低8位字节
 614              		.loc 1 166 3 is_stmt 1 view .LVU196
 615              		.loc 1 166 10 is_stmt 0 view .LVU197
 616 002c 8DF80630 		strb	r3, [sp, #6]
 167:Core/Src/ZDT_X42_V2.c ****   cmd[7] =  snF;                        // 多机同步运动标志
 617              		.loc 1 167 3 is_stmt 1 view .LVU198
 618              		.loc 1 167 10 is_stmt 0 view .LVU199
 619 0030 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
 620              	.LVL27:
 621              		.loc 1 167 10 view .LVU200
 622 0034 8DF80730 		strb	r3, [sp, #7]
 168:Core/Src/ZDT_X42_V2.c ****   cmd[8] =  0x6B;                       // 校验字节
 623              		.loc 1 168 3 is_stmt 1 view .LVU201
 624              		.loc 1 168 10 is_stmt 0 view .LVU202
 625 0038 6B23     		movs	r3, #107
 626 003a 8DF80830 		strb	r3, [sp, #8]
 169:Core/Src/ZDT_X42_V2.c **** 
 170:Core/Src/ZDT_X42_V2.c ****   // 发送命令
 171:Core/Src/ZDT_X42_V2.c ****   can_SendCmd(cmd, 9);
 627              		.loc 1 171 3 is_stmt 1 view .LVU203
 628 003e 0921     		movs	r1, #9
 629 0040 6846     		mov	r0, sp
 630 0042 FFF7FEFF 		bl	can_SendCmd
 631              	.LVL28:
 172:Core/Src/ZDT_X42_V2.c **** }
 632              		.loc 1 172 1 is_stmt 0 view .LVU204
 633 0046 04B0     		add	sp, sp, #16
 634              	.LCFI18:
 635              		.cfi_def_cfa_offset 8
 636              		@ sp needed
 637 0048 10BD     		pop	{r4, pc}
 638              		.loc 1 172 1 view .LVU205
 639              		.cfi_endproc
 640              	.LFE139:
 642              		.section	.text.ZDT_X42_V2_Velocity_Control,"ax",%progbits
 643              		.align	1
 644              		.global	ZDT_X42_V2_Velocity_Control
 645              		.syntax unified
 646              		.thumb
 647              		.thumb_func
 649              	ZDT_X42_V2_Velocity_Control:
 650              	.LVL29:
 651              	.LFB140:
 173:Core/Src/ZDT_X42_V2.c **** 
 174:Core/Src/ZDT_X42_V2.c **** /**
 175:Core/Src/ZDT_X42_V2.c ****   * @brief    速度模式
 176:Core/Src/ZDT_X42_V2.c ****   * @param    addr  	：电机地址
 177:Core/Src/ZDT_X42_V2.c ****   * @param    dir     ：方向         ，0为CW，其余值为CCW
 178:Core/Src/ZDT_X42_V2.c ****   * @param    v_ramp  ：斜率(RPM/s)  ，范围0 - 65535RPM/s
 179:Core/Src/ZDT_X42_V2.c ****   * @param    velocity：速度(RPM)    ，范围0.0 - 4000.0RPM
 180:Core/Src/ZDT_X42_V2.c ****   * @param    snF     ：多机同步标志 ，0为不启用，其余值启用
 181:Core/Src/ZDT_X42_V2.c ****   * @retval   地址 + 功能码 + 命令状态 + 校验字节
 182:Core/Src/ZDT_X42_V2.c ****   */
 183:Core/Src/ZDT_X42_V2.c **** void ZDT_X42_V2_Velocity_Control(uint8_t addr, uint8_t dir, uint16_t v_ramp, float velocity, uint8_
 184:Core/Src/ZDT_X42_V2.c **** {
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 17


 652              		.loc 1 184 1 is_stmt 1 view -0
 653              		.cfi_startproc
 654              		@ args = 0, pretend = 0, frame = 16
 655              		@ frame_needed = 0, uses_anonymous_args = 0
 656              		.loc 1 184 1 is_stmt 0 view .LVU207
 657 0000 10B5     		push	{r4, lr}
 658              	.LCFI19:
 659              		.cfi_def_cfa_offset 8
 660              		.cfi_offset 4, -8
 661              		.cfi_offset 14, -4
 662 0002 84B0     		sub	sp, sp, #16
 663              	.LCFI20:
 664              		.cfi_def_cfa_offset 24
 185:Core/Src/ZDT_X42_V2.c ****   uint8_t cmd[16] = {0}; uint16_t vel = 0;
 665              		.loc 1 185 3 is_stmt 1 view .LVU208
 666              		.loc 1 185 11 is_stmt 0 view .LVU209
 667 0004 0024     		movs	r4, #0
 668 0006 0094     		str	r4, [sp]
 669 0008 0194     		str	r4, [sp, #4]
 670 000a 0294     		str	r4, [sp, #8]
 671 000c 0394     		str	r4, [sp, #12]
 672              		.loc 1 185 26 is_stmt 1 view .LVU210
 673              	.LVL30:
 186:Core/Src/ZDT_X42_V2.c **** 
 187:Core/Src/ZDT_X42_V2.c ****   // 将速度放大10倍发送过去
 188:Core/Src/ZDT_X42_V2.c ****   vel = (uint16_t)ABS(velocity * 10.0f);
 674              		.loc 1 188 3 view .LVU211
 675              		.loc 1 188 19 is_stmt 0 view .LVU212
 676 000e F2EE047A 		vmov.f32	s15, #1.0e+1
 677 0012 20EE270A 		vmul.f32	s0, s0, s15
 678              	.LVL31:
 679              		.loc 1 188 9 view .LVU213
 680 0016 B5EEC00A 		vcmpe.f32	s0, #0
 681 001a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 682 001e 22DD     		ble	.L45
 683              		.loc 1 188 9 discriminator 1 view .LVU214
 684 0020 BCEEC00A 		vcvt.u32.f32	s0, s0
 685 0024 10EE104A 		vmov	r4, s0	@ int
 686 0028 1FFA84FC 		uxth	ip, r4
 687              	.L43:
 688              	.LVL32:
 189:Core/Src/ZDT_X42_V2.c **** 
 190:Core/Src/ZDT_X42_V2.c ****   // 装载命令
 191:Core/Src/ZDT_X42_V2.c ****   cmd[0] =  addr;                       // 地址
 689              		.loc 1 191 3 is_stmt 1 view .LVU215
 690              		.loc 1 191 10 is_stmt 0 view .LVU216
 691 002c 8DF80000 		strb	r0, [sp]
 192:Core/Src/ZDT_X42_V2.c ****   cmd[1] =  0xF6;                       // 功能码
 692              		.loc 1 192 3 is_stmt 1 view .LVU217
 693              		.loc 1 192 10 is_stmt 0 view .LVU218
 694 0030 F620     		movs	r0, #246
 695              	.LVL33:
 696              		.loc 1 192 10 view .LVU219
 697 0032 8DF80100 		strb	r0, [sp, #1]
 193:Core/Src/ZDT_X42_V2.c ****   cmd[2] =  dir;                        // 符号（方向）
 698              		.loc 1 193 3 is_stmt 1 view .LVU220
 699              		.loc 1 193 10 is_stmt 0 view .LVU221
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 18


 700 0036 8DF80210 		strb	r1, [sp, #2]
 194:Core/Src/ZDT_X42_V2.c ****   cmd[3] =  (uint8_t)(v_ramp >> 8);     // 速度斜率(RPM/s)高8位字节
 701              		.loc 1 194 3 is_stmt 1 view .LVU222
 702              		.loc 1 194 13 is_stmt 0 view .LVU223
 703 003a 110A     		lsrs	r1, r2, #8
 704              	.LVL34:
 705              		.loc 1 194 10 view .LVU224
 706 003c 8DF80310 		strb	r1, [sp, #3]
 195:Core/Src/ZDT_X42_V2.c ****   cmd[4] =  (uint8_t)(v_ramp >> 0);     // 速度斜率(RPM/s)低8位字节
 707              		.loc 1 195 3 is_stmt 1 view .LVU225
 708              		.loc 1 195 10 is_stmt 0 view .LVU226
 709 0040 8DF80420 		strb	r2, [sp, #4]
 196:Core/Src/ZDT_X42_V2.c ****   cmd[5] =  (uint8_t)(vel >> 8);        // 速度(RPM)高8位字节
 710              		.loc 1 196 3 is_stmt 1 view .LVU227
 711              		.loc 1 196 13 is_stmt 0 view .LVU228
 712 0044 4FEA1C22 		lsr	r2, ip, #8
 713              	.LVL35:
 714              		.loc 1 196 10 view .LVU229
 715 0048 8DF80520 		strb	r2, [sp, #5]
 197:Core/Src/ZDT_X42_V2.c ****   cmd[6] =  (uint8_t)(vel >> 0);        // 速度(RPM)低8位字节
 716              		.loc 1 197 3 is_stmt 1 view .LVU230
 717              		.loc 1 197 10 is_stmt 0 view .LVU231
 718 004c 8DF806C0 		strb	ip, [sp, #6]
 198:Core/Src/ZDT_X42_V2.c ****   cmd[7] =  snF;                        // 多机同步运动标志
 719              		.loc 1 198 3 is_stmt 1 view .LVU232
 720              		.loc 1 198 10 is_stmt 0 view .LVU233
 721 0050 8DF80730 		strb	r3, [sp, #7]
 199:Core/Src/ZDT_X42_V2.c ****   cmd[8] =  0x6B;                       // 校验字节
 722              		.loc 1 199 3 is_stmt 1 view .LVU234
 723              		.loc 1 199 10 is_stmt 0 view .LVU235
 724 0054 6B23     		movs	r3, #107
 725              	.LVL36:
 726              		.loc 1 199 10 view .LVU236
 727 0056 8DF80830 		strb	r3, [sp, #8]
 200:Core/Src/ZDT_X42_V2.c **** 
 201:Core/Src/ZDT_X42_V2.c ****   // 发送命令
 202:Core/Src/ZDT_X42_V2.c ****   can_SendCmd(cmd, 9);
 728              		.loc 1 202 3 is_stmt 1 view .LVU237
 729 005a 0921     		movs	r1, #9
 730 005c 6846     		mov	r0, sp
 731 005e FFF7FEFF 		bl	can_SendCmd
 732              	.LVL37:
 203:Core/Src/ZDT_X42_V2.c **** }
 733              		.loc 1 203 1 is_stmt 0 view .LVU238
 734 0062 04B0     		add	sp, sp, #16
 735              	.LCFI21:
 736              		.cfi_remember_state
 737              		.cfi_def_cfa_offset 8
 738              		@ sp needed
 739 0064 10BD     		pop	{r4, pc}
 740              	.LVL38:
 741              	.L45:
 742              	.LCFI22:
 743              		.cfi_restore_state
 188:Core/Src/ZDT_X42_V2.c **** 
 744              		.loc 1 188 19 discriminator 2 view .LVU239
 745 0066 B1EE400A 		vneg.f32	s0, s0
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 19


 188:Core/Src/ZDT_X42_V2.c **** 
 746              		.loc 1 188 9 discriminator 2 view .LVU240
 747 006a BCEEC00A 		vcvt.u32.f32	s0, s0
 748 006e 10EE104A 		vmov	r4, s0	@ int
 749 0072 1FFA84FC 		uxth	ip, r4
 750 0076 D9E7     		b	.L43
 751              		.cfi_endproc
 752              	.LFE140:
 754              		.section	.text.ZDT_X42_V2_Bypass_Position_LV_Control,"ax",%progbits
 755              		.align	1
 756              		.global	ZDT_X42_V2_Bypass_Position_LV_Control
 757              		.syntax unified
 758              		.thumb
 759              		.thumb_func
 761              	ZDT_X42_V2_Bypass_Position_LV_Control:
 762              	.LVL39:
 763              	.LFB141:
 204:Core/Src/ZDT_X42_V2.c **** 
 205:Core/Src/ZDT_X42_V2.c **** /**
 206:Core/Src/ZDT_X42_V2.c ****   * @brief    直通限速位置模式
 207:Core/Src/ZDT_X42_V2.c ****   * @param    addr  	：电机地址
 208:Core/Src/ZDT_X42_V2.c ****   * @param    dir     ：方向										，0为CW，其余值为CCW
 209:Core/Src/ZDT_X42_V2.c ****   * @param    velocity：最大速度(RPM)					，范围0.0 - 4000.0RPM
 210:Core/Src/ZDT_X42_V2.c ****   * @param    position：位置(°)								，范围0.0°- (2^32 - 1)°
 211:Core/Src/ZDT_X42_V2.c ****   * @param    raf     ：相位位置/绝对位置标志	，0为相对位置，其余值为绝对位置
 212:Core/Src/ZDT_X42_V2.c ****   * @param    snF     ：多机同步标志						，0为不启用，其余值启用
 213:Core/Src/ZDT_X42_V2.c ****   * @retval   地址 + 功能码 + 命令状态 + 校验字节
 214:Core/Src/ZDT_X42_V2.c ****   */
 215:Core/Src/ZDT_X42_V2.c **** void ZDT_X42_V2_Bypass_Position_LV_Control(uint8_t addr, uint8_t dir, float velocity, float positio
 216:Core/Src/ZDT_X42_V2.c **** {
 764              		.loc 1 216 1 is_stmt 1 view -0
 765              		.cfi_startproc
 766              		@ args = 0, pretend = 0, frame = 16
 767              		@ frame_needed = 0, uses_anonymous_args = 0
 768              		.loc 1 216 1 is_stmt 0 view .LVU242
 769 0000 10B5     		push	{r4, lr}
 770              	.LCFI23:
 771              		.cfi_def_cfa_offset 8
 772              		.cfi_offset 4, -8
 773              		.cfi_offset 14, -4
 774 0002 84B0     		sub	sp, sp, #16
 775              	.LCFI24:
 776              		.cfi_def_cfa_offset 24
 217:Core/Src/ZDT_X42_V2.c ****   uint8_t cmd[16] = {0}; uint16_t vel = 0; uint32_t pos = 0;
 777              		.loc 1 217 3 is_stmt 1 view .LVU243
 778              		.loc 1 217 11 is_stmt 0 view .LVU244
 779 0004 0024     		movs	r4, #0
 780 0006 0094     		str	r4, [sp]
 781 0008 0194     		str	r4, [sp, #4]
 782 000a 0294     		str	r4, [sp, #8]
 783 000c 0394     		str	r4, [sp, #12]
 784              		.loc 1 217 26 is_stmt 1 view .LVU245
 785              	.LVL40:
 786              		.loc 1 217 44 view .LVU246
 218:Core/Src/ZDT_X42_V2.c **** 
 219:Core/Src/ZDT_X42_V2.c ****   // 将速度和位置放大10倍发送过去
 220:Core/Src/ZDT_X42_V2.c ****   vel = (uint16_t)ABS(velocity * 10.0f); pos = (uint32_t)ABS(position * 10.0f);
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 20


 787              		.loc 1 220 3 view .LVU247
 788              		.loc 1 220 19 is_stmt 0 view .LVU248
 789 000e F2EE047A 		vmov.f32	s15, #1.0e+1
 790 0012 20EE270A 		vmul.f32	s0, s0, s15
 791              	.LVL41:
 792              		.loc 1 220 9 view .LVU249
 793 0016 B5EEC00A 		vcmpe.f32	s0, #0
 794 001a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 795 001e 3ADD     		ble	.L56
 796              		.loc 1 220 9 discriminator 1 view .LVU250
 797 0020 BCEEC00A 		vcvt.u32.f32	s0, s0
 798 0024 10EE104A 		vmov	r4, s0	@ int
 799 0028 1FFA84FE 		uxth	lr, r4
 800              	.L50:
 801              	.LVL42:
 802              		.loc 1 220 42 is_stmt 1 discriminator 4 view .LVU251
 803              		.loc 1 220 58 is_stmt 0 discriminator 4 view .LVU252
 804 002c F2EE047A 		vmov.f32	s15, #1.0e+1
 805 0030 60EEA70A 		vmul.f32	s1, s1, s15
 806              	.LVL43:
 807              		.loc 1 220 48 discriminator 4 view .LVU253
 808 0034 F5EEC00A 		vcmpe.f32	s1, #0
 809 0038 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 810 003c 34DD     		ble	.L57
 811              		.loc 1 220 48 discriminator 5 view .LVU254
 812 003e FCEEE07A 		vcvt.u32.f32	s15, s1
 813 0042 17EE90CA 		vmov	ip, s15	@ int
 814              	.L53:
 815              	.LVL44:
 221:Core/Src/ZDT_X42_V2.c **** 
 222:Core/Src/ZDT_X42_V2.c ****   // 装载命令
 223:Core/Src/ZDT_X42_V2.c ****   cmd[0]  =  addr;                      // 地址
 816              		.loc 1 223 3 is_stmt 1 view .LVU255
 817              		.loc 1 223 11 is_stmt 0 view .LVU256
 818 0046 8DF80000 		strb	r0, [sp]
 224:Core/Src/ZDT_X42_V2.c ****   cmd[1]  =  0xFB;                      // 功能码
 819              		.loc 1 224 3 is_stmt 1 view .LVU257
 820              		.loc 1 224 11 is_stmt 0 view .LVU258
 821 004a FB20     		movs	r0, #251
 822              	.LVL45:
 823              		.loc 1 224 11 view .LVU259
 824 004c 8DF80100 		strb	r0, [sp, #1]
 225:Core/Src/ZDT_X42_V2.c ****   cmd[2]  =  dir;                       // 符号（方向）
 825              		.loc 1 225 3 is_stmt 1 view .LVU260
 826              		.loc 1 225 11 is_stmt 0 view .LVU261
 827 0050 8DF80210 		strb	r1, [sp, #2]
 226:Core/Src/ZDT_X42_V2.c ****   cmd[3]  =  (uint8_t)(vel >> 8);       // 最大速度(RPM)高8位字节
 828              		.loc 1 226 3 is_stmt 1 view .LVU262
 829              		.loc 1 226 14 is_stmt 0 view .LVU263
 830 0054 4FEA1E21 		lsr	r1, lr, #8
 831              	.LVL46:
 832              		.loc 1 226 11 view .LVU264
 833 0058 8DF80310 		strb	r1, [sp, #3]
 227:Core/Src/ZDT_X42_V2.c ****   cmd[4]  =  (uint8_t)(vel >> 0);       // 最大速度(RPM)低8位字节
 834              		.loc 1 227 3 is_stmt 1 view .LVU265
 835              		.loc 1 227 11 is_stmt 0 view .LVU266
 836 005c 8DF804E0 		strb	lr, [sp, #4]
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 21


 228:Core/Src/ZDT_X42_V2.c ****   cmd[5]  =  (uint8_t)(pos >> 24);      // 位置(bit24 - bit31)
 837              		.loc 1 228 3 is_stmt 1 view .LVU267
 838              		.loc 1 228 14 is_stmt 0 view .LVU268
 839 0060 4FEA1C61 		lsr	r1, ip, #24
 840              		.loc 1 228 11 view .LVU269
 841 0064 8DF80510 		strb	r1, [sp, #5]
 229:Core/Src/ZDT_X42_V2.c ****   cmd[6]  =  (uint8_t)(pos >> 16);      // 位置(bit16 - bit23)
 842              		.loc 1 229 3 is_stmt 1 view .LVU270
 843              		.loc 1 229 14 is_stmt 0 view .LVU271
 844 0068 CCF30741 		ubfx	r1, ip, #16, #8
 845              		.loc 1 229 11 view .LVU272
 846 006c 8DF80610 		strb	r1, [sp, #6]
 230:Core/Src/ZDT_X42_V2.c ****   cmd[7]  =  (uint8_t)(pos >> 8);       // 位置(bit8  - bit15)
 847              		.loc 1 230 3 is_stmt 1 view .LVU273
 848              		.loc 1 230 14 is_stmt 0 view .LVU274
 849 0070 CCF30721 		ubfx	r1, ip, #8, #8
 850              		.loc 1 230 11 view .LVU275
 851 0074 8DF80710 		strb	r1, [sp, #7]
 231:Core/Src/ZDT_X42_V2.c ****   cmd[8]  =  (uint8_t)(pos >> 0);       // 位置(bit0  - bit7 )
 852              		.loc 1 231 3 is_stmt 1 view .LVU276
 853              		.loc 1 231 11 is_stmt 0 view .LVU277
 854 0078 8DF808C0 		strb	ip, [sp, #8]
 232:Core/Src/ZDT_X42_V2.c ****   cmd[9]  =  raf;                       // 相位位置/绝对位置标志
 855              		.loc 1 232 3 is_stmt 1 view .LVU278
 856              		.loc 1 232 11 is_stmt 0 view .LVU279
 857 007c 8DF80920 		strb	r2, [sp, #9]
 233:Core/Src/ZDT_X42_V2.c ****   cmd[10] =  snF;                       // 多机同步运动标志
 858              		.loc 1 233 3 is_stmt 1 view .LVU280
 859              		.loc 1 233 11 is_stmt 0 view .LVU281
 860 0080 8DF80A30 		strb	r3, [sp, #10]
 234:Core/Src/ZDT_X42_V2.c ****   cmd[11] =  0x6B;                      // 校验字节
 861              		.loc 1 234 3 is_stmt 1 view .LVU282
 862              		.loc 1 234 11 is_stmt 0 view .LVU283
 863 0084 6B23     		movs	r3, #107
 864              	.LVL47:
 865              		.loc 1 234 11 view .LVU284
 866 0086 8DF80B30 		strb	r3, [sp, #11]
 235:Core/Src/ZDT_X42_V2.c **** 
 236:Core/Src/ZDT_X42_V2.c ****   // 发送命令
 237:Core/Src/ZDT_X42_V2.c ****   can_SendCmd(cmd, 12);
 867              		.loc 1 237 3 is_stmt 1 view .LVU285
 868 008a 0C21     		movs	r1, #12
 869 008c 6846     		mov	r0, sp
 870 008e FFF7FEFF 		bl	can_SendCmd
 871              	.LVL48:
 238:Core/Src/ZDT_X42_V2.c **** }
 872              		.loc 1 238 1 is_stmt 0 view .LVU286
 873 0092 04B0     		add	sp, sp, #16
 874              	.LCFI25:
 875              		.cfi_remember_state
 876              		.cfi_def_cfa_offset 8
 877              		@ sp needed
 878 0094 10BD     		pop	{r4, pc}
 879              	.LVL49:
 880              	.L56:
 881              	.LCFI26:
 882              		.cfi_restore_state
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 22


 220:Core/Src/ZDT_X42_V2.c **** 
 883              		.loc 1 220 19 discriminator 2 view .LVU287
 884 0096 B1EE400A 		vneg.f32	s0, s0
 220:Core/Src/ZDT_X42_V2.c **** 
 885              		.loc 1 220 9 discriminator 2 view .LVU288
 886 009a BCEEC00A 		vcvt.u32.f32	s0, s0
 887 009e 10EE104A 		vmov	r4, s0	@ int
 888 00a2 1FFA84FE 		uxth	lr, r4
 889 00a6 C1E7     		b	.L50
 890              	.LVL50:
 891              	.L57:
 220:Core/Src/ZDT_X42_V2.c **** 
 892              		.loc 1 220 58 discriminator 6 view .LVU289
 893 00a8 F1EE600A 		vneg.f32	s1, s1
 220:Core/Src/ZDT_X42_V2.c **** 
 894              		.loc 1 220 48 discriminator 6 view .LVU290
 895 00ac FCEEE07A 		vcvt.u32.f32	s15, s1
 896 00b0 17EE90CA 		vmov	ip, s15	@ int
 897 00b4 C7E7     		b	.L53
 898              		.cfi_endproc
 899              	.LFE141:
 901              		.section	.text.ZDT_X42_V2_Traj_Position_Control,"ax",%progbits
 902              		.align	1
 903              		.global	ZDT_X42_V2_Traj_Position_Control
 904              		.syntax unified
 905              		.thumb
 906              		.thumb_func
 908              	ZDT_X42_V2_Traj_Position_Control:
 909              	.LVL51:
 910              	.LFB142:
 239:Core/Src/ZDT_X42_V2.c **** 
 240:Core/Src/ZDT_X42_V2.c **** /**
 241:Core/Src/ZDT_X42_V2.c ****   * @brief    梯形曲线位置模式
 242:Core/Src/ZDT_X42_V2.c ****   * @param    addr  	：电机地址
 243:Core/Src/ZDT_X42_V2.c ****   * @param    dir     ：方向										，0为CW，其余值为CCW
 244:Core/Src/ZDT_X42_V2.c ****   * @param    acc     ：加速加速度(RPM/s)			，0为CW，其余值为CCW
 245:Core/Src/ZDT_X42_V2.c ****   * @param    dec     ：减速加速度(RPM/s)			，0为CW，其余值为CCW
 246:Core/Src/ZDT_X42_V2.c ****   * @param    velocity：最大速度(RPM)					，范围0.0 - 4000.0RPM
 247:Core/Src/ZDT_X42_V2.c ****   * @param    position：位置(°)								，范围0.0°- (2^32 - 1)°
 248:Core/Src/ZDT_X42_V2.c ****   * @param    raf     ：相位位置/绝对位置标志	，0为相对位置，其余值为绝对位置
 249:Core/Src/ZDT_X42_V2.c ****   * @param    snF     ：多机同步标志						，0为不启用，其余值启用
 250:Core/Src/ZDT_X42_V2.c ****   * @retval   地址 + 功能码 + 命令状态 + 校验字节
 251:Core/Src/ZDT_X42_V2.c ****   */
 252:Core/Src/ZDT_X42_V2.c **** void ZDT_X42_V2_Traj_Position_Control(uint8_t addr, uint8_t dir, uint16_t acc, uint16_t dec, float 
 253:Core/Src/ZDT_X42_V2.c **** {
 911              		.loc 1 253 1 is_stmt 1 view -0
 912              		.cfi_startproc
 913              		@ args = 8, pretend = 0, frame = 32
 914              		@ frame_needed = 0, uses_anonymous_args = 0
 915              		.loc 1 253 1 is_stmt 0 view .LVU292
 916 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 917              	.LCFI27:
 918              		.cfi_def_cfa_offset 20
 919              		.cfi_offset 4, -20
 920              		.cfi_offset 5, -16
 921              		.cfi_offset 6, -12
 922              		.cfi_offset 7, -8
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 23


 923              		.cfi_offset 14, -4
 924 0002 2DED028B 		vpush.64	{d8}
 925              	.LCFI28:
 926              		.cfi_def_cfa_offset 28
 927              		.cfi_offset 80, -28
 928              		.cfi_offset 81, -24
 929 0006 89B0     		sub	sp, sp, #36
 930              	.LCFI29:
 931              		.cfi_def_cfa_offset 64
 932 0008 0746     		mov	r7, r0
 933 000a 0E46     		mov	r6, r1
 934 000c 1546     		mov	r5, r2
 935 000e 1C46     		mov	r4, r3
 936 0010 F0EE408A 		vmov.f32	s17, s0
 937 0014 B0EE608A 		vmov.f32	s16, s1
 254:Core/Src/ZDT_X42_V2.c ****   uint8_t cmd[32] = {0}; uint16_t vel = 0; uint32_t pos = 0;
 938              		.loc 1 254 3 is_stmt 1 view .LVU293
 939              		.loc 1 254 11 is_stmt 0 view .LVU294
 940 0018 2022     		movs	r2, #32
 941              	.LVL52:
 942              		.loc 1 254 11 view .LVU295
 943 001a 0021     		movs	r1, #0
 944              	.LVL53:
 945              		.loc 1 254 11 view .LVU296
 946 001c 6846     		mov	r0, sp
 947              	.LVL54:
 948              		.loc 1 254 11 view .LVU297
 949 001e FFF7FEFF 		bl	memset
 950              	.LVL55:
 951              		.loc 1 254 26 is_stmt 1 view .LVU298
 952              		.loc 1 254 44 view .LVU299
 255:Core/Src/ZDT_X42_V2.c **** 
 256:Core/Src/ZDT_X42_V2.c ****   // 将速度和位置放大10倍发送过去
 257:Core/Src/ZDT_X42_V2.c ****   vel = (uint16_t)ABS(velocity * 10.0f); pos = (uint32_t)ABS(position * 10.0f);
 953              		.loc 1 257 3 view .LVU300
 954              		.loc 1 257 19 is_stmt 0 view .LVU301
 955 0022 F2EE047A 		vmov.f32	s15, #1.0e+1
 956 0026 28EEA70A 		vmul.f32	s0, s17, s15
 957              		.loc 1 257 9 view .LVU302
 958 002a B5EEC00A 		vcmpe.f32	s0, #0
 959 002e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 960 0032 4ADD     		ble	.L68
 961              		.loc 1 257 9 discriminator 1 view .LVU303
 962 0034 BCEEC00A 		vcvt.u32.f32	s0, s0
 963 0038 10EE103A 		vmov	r3, s0	@ int
 964 003c 1FFA83FE 		uxth	lr, r3
 965              	.L62:
 966              	.LVL56:
 967              		.loc 1 257 42 is_stmt 1 discriminator 4 view .LVU304
 968              		.loc 1 257 58 is_stmt 0 discriminator 4 view .LVU305
 969 0040 F2EE047A 		vmov.f32	s15, #1.0e+1
 970 0044 68EE270A 		vmul.f32	s1, s16, s15
 971              		.loc 1 257 48 discriminator 4 view .LVU306
 972 0048 F5EEC00A 		vcmpe.f32	s1, #0
 973 004c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 974 0050 44DD     		ble	.L69
 975              		.loc 1 257 48 discriminator 5 view .LVU307
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 24


 976 0052 FCEEE07A 		vcvt.u32.f32	s15, s1
 977 0056 17EE90CA 		vmov	ip, s15	@ int
 978              	.L65:
 979              	.LVL57:
 258:Core/Src/ZDT_X42_V2.c **** 
 259:Core/Src/ZDT_X42_V2.c ****   // 装载命令
 260:Core/Src/ZDT_X42_V2.c ****   cmd[0]  =  addr;                      // 地址
 980              		.loc 1 260 3 is_stmt 1 view .LVU308
 981              		.loc 1 260 11 is_stmt 0 view .LVU309
 982 005a 8DF80070 		strb	r7, [sp]
 261:Core/Src/ZDT_X42_V2.c ****   cmd[1]  =  0xFD;                      // 功能码
 983              		.loc 1 261 3 is_stmt 1 view .LVU310
 984              		.loc 1 261 11 is_stmt 0 view .LVU311
 985 005e FD23     		movs	r3, #253
 986 0060 8DF80130 		strb	r3, [sp, #1]
 262:Core/Src/ZDT_X42_V2.c ****   cmd[2]  =  dir;                       // 符号（方向）
 987              		.loc 1 262 3 is_stmt 1 view .LVU312
 988              		.loc 1 262 11 is_stmt 0 view .LVU313
 989 0064 8DF80260 		strb	r6, [sp, #2]
 263:Core/Src/ZDT_X42_V2.c ****   cmd[3]  =  (uint8_t)(acc >> 8);       // 加速加速度(RPM/s)高8位字节
 990              		.loc 1 263 3 is_stmt 1 view .LVU314
 991              		.loc 1 263 14 is_stmt 0 view .LVU315
 992 0068 2B0A     		lsrs	r3, r5, #8
 993              		.loc 1 263 11 view .LVU316
 994 006a 8DF80330 		strb	r3, [sp, #3]
 264:Core/Src/ZDT_X42_V2.c ****   cmd[4]  =  (uint8_t)(acc >> 0);       // 加速加速度(RPM/s)低8位字节
 995              		.loc 1 264 3 is_stmt 1 view .LVU317
 996              		.loc 1 264 11 is_stmt 0 view .LVU318
 997 006e 8DF80450 		strb	r5, [sp, #4]
 265:Core/Src/ZDT_X42_V2.c ****   cmd[5]  =  (uint8_t)(dec >> 8);       // 减速加速度(RPM/s)高8位字节
 998              		.loc 1 265 3 is_stmt 1 view .LVU319
 999              		.loc 1 265 14 is_stmt 0 view .LVU320
 1000 0072 230A     		lsrs	r3, r4, #8
 1001              		.loc 1 265 11 view .LVU321
 1002 0074 8DF80530 		strb	r3, [sp, #5]
 266:Core/Src/ZDT_X42_V2.c ****   cmd[6]  =  (uint8_t)(dec >> 0);       // 减速加速度(RPM/s)低8位字节
 1003              		.loc 1 266 3 is_stmt 1 view .LVU322
 1004              		.loc 1 266 11 is_stmt 0 view .LVU323
 1005 0078 8DF80640 		strb	r4, [sp, #6]
 267:Core/Src/ZDT_X42_V2.c ****   cmd[7]  =  (uint8_t)(vel >> 8);       // 最大速度(RPM)高8位字节
 1006              		.loc 1 267 3 is_stmt 1 view .LVU324
 1007              		.loc 1 267 14 is_stmt 0 view .LVU325
 1008 007c 4FEA1E23 		lsr	r3, lr, #8
 1009              		.loc 1 267 11 view .LVU326
 1010 0080 8DF80730 		strb	r3, [sp, #7]
 268:Core/Src/ZDT_X42_V2.c ****   cmd[8]  =  (uint8_t)(vel >> 0);       // 最大速度(RPM)低8位字节
 1011              		.loc 1 268 3 is_stmt 1 view .LVU327
 1012              		.loc 1 268 11 is_stmt 0 view .LVU328
 1013 0084 8DF808E0 		strb	lr, [sp, #8]
 269:Core/Src/ZDT_X42_V2.c ****   cmd[9]  =  (uint8_t)(pos >> 24);      // 位置(bit24 - bit31)
 1014              		.loc 1 269 3 is_stmt 1 view .LVU329
 1015              		.loc 1 269 14 is_stmt 0 view .LVU330
 1016 0088 4FEA1C63 		lsr	r3, ip, #24
 1017              		.loc 1 269 11 view .LVU331
 1018 008c 8DF80930 		strb	r3, [sp, #9]
 270:Core/Src/ZDT_X42_V2.c ****   cmd[10] =  (uint8_t)(pos >> 16);      // 位置(bit16 - bit23)
 1019              		.loc 1 270 3 is_stmt 1 view .LVU332
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 25


 1020              		.loc 1 270 14 is_stmt 0 view .LVU333
 1021 0090 CCF30743 		ubfx	r3, ip, #16, #8
 1022              		.loc 1 270 11 view .LVU334
 1023 0094 8DF80A30 		strb	r3, [sp, #10]
 271:Core/Src/ZDT_X42_V2.c ****   cmd[11] =  (uint8_t)(pos >> 8);       // 位置(bit8  - bit15)
 1024              		.loc 1 271 3 is_stmt 1 view .LVU335
 1025              		.loc 1 271 14 is_stmt 0 view .LVU336
 1026 0098 CCF30723 		ubfx	r3, ip, #8, #8
 1027              		.loc 1 271 11 view .LVU337
 1028 009c 8DF80B30 		strb	r3, [sp, #11]
 272:Core/Src/ZDT_X42_V2.c ****   cmd[12] =  (uint8_t)(pos >> 0);       // 位置(bit0  - bit7 )
 1029              		.loc 1 272 3 is_stmt 1 view .LVU338
 1030              		.loc 1 272 11 is_stmt 0 view .LVU339
 1031 00a0 8DF80CC0 		strb	ip, [sp, #12]
 273:Core/Src/ZDT_X42_V2.c ****   cmd[13] =  raf;                       // 相位位置/绝对位置标志
 1032              		.loc 1 273 3 is_stmt 1 view .LVU340
 1033              		.loc 1 273 11 is_stmt 0 view .LVU341
 1034 00a4 9DF84030 		ldrb	r3, [sp, #64]	@ zero_extendqisi2
 1035 00a8 8DF80D30 		strb	r3, [sp, #13]
 274:Core/Src/ZDT_X42_V2.c ****   cmd[14] =  snF;                       // 多机同步运动标志
 1036              		.loc 1 274 3 is_stmt 1 view .LVU342
 1037              		.loc 1 274 11 is_stmt 0 view .LVU343
 1038 00ac 9DF84430 		ldrb	r3, [sp, #68]	@ zero_extendqisi2
 1039 00b0 8DF80E30 		strb	r3, [sp, #14]
 275:Core/Src/ZDT_X42_V2.c ****   cmd[15] =  0x6B;                      // 校验字节
 1040              		.loc 1 275 3 is_stmt 1 view .LVU344
 1041              		.loc 1 275 11 is_stmt 0 view .LVU345
 1042 00b4 6B23     		movs	r3, #107
 1043 00b6 8DF80F30 		strb	r3, [sp, #15]
 276:Core/Src/ZDT_X42_V2.c **** 
 277:Core/Src/ZDT_X42_V2.c ****   // 发送命令
 278:Core/Src/ZDT_X42_V2.c ****   can_SendCmd(cmd, 16);
 1044              		.loc 1 278 3 is_stmt 1 view .LVU346
 1045 00ba 1021     		movs	r1, #16
 1046 00bc 6846     		mov	r0, sp
 1047 00be FFF7FEFF 		bl	can_SendCmd
 1048              	.LVL58:
 279:Core/Src/ZDT_X42_V2.c **** }
 1049              		.loc 1 279 1 is_stmt 0 view .LVU347
 1050 00c2 09B0     		add	sp, sp, #36
 1051              	.LCFI30:
 1052              		.cfi_remember_state
 1053              		.cfi_def_cfa_offset 28
 1054              		@ sp needed
 1055 00c4 BDEC028B 		vldm	sp!, {d8}
 1056              	.LCFI31:
 1057              		.cfi_restore 80
 1058              		.cfi_restore 81
 1059              		.cfi_def_cfa_offset 20
 1060              	.LVL59:
 1061              		.loc 1 279 1 view .LVU348
 1062 00c8 F0BD     		pop	{r4, r5, r6, r7, pc}
 1063              	.LVL60:
 1064              	.L68:
 1065              	.LCFI32:
 1066              		.cfi_restore_state
 257:Core/Src/ZDT_X42_V2.c **** 
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 26


 1067              		.loc 1 257 19 discriminator 2 view .LVU349
 1068 00ca B1EE400A 		vneg.f32	s0, s0
 257:Core/Src/ZDT_X42_V2.c **** 
 1069              		.loc 1 257 9 discriminator 2 view .LVU350
 1070 00ce BCEEC00A 		vcvt.u32.f32	s0, s0
 1071 00d2 10EE103A 		vmov	r3, s0	@ int
 1072 00d6 1FFA83FE 		uxth	lr, r3
 1073 00da B1E7     		b	.L62
 1074              	.LVL61:
 1075              	.L69:
 257:Core/Src/ZDT_X42_V2.c **** 
 1076              		.loc 1 257 58 discriminator 6 view .LVU351
 1077 00dc F1EE600A 		vneg.f32	s1, s1
 257:Core/Src/ZDT_X42_V2.c **** 
 1078              		.loc 1 257 48 discriminator 6 view .LVU352
 1079 00e0 FCEEE07A 		vcvt.u32.f32	s15, s1
 1080 00e4 17EE90CA 		vmov	ip, s15	@ int
 1081 00e8 B7E7     		b	.L65
 1082              		.cfi_endproc
 1083              	.LFE142:
 1085              		.section	.text.ZDT_X42_V2_Stop_Now,"ax",%progbits
 1086              		.align	1
 1087              		.global	ZDT_X42_V2_Stop_Now
 1088              		.syntax unified
 1089              		.thumb
 1090              		.thumb_func
 1092              	ZDT_X42_V2_Stop_Now:
 1093              	.LVL62:
 1094              	.LFB143:
 280:Core/Src/ZDT_X42_V2.c **** 
 281:Core/Src/ZDT_X42_V2.c **** /**
 282:Core/Src/ZDT_X42_V2.c ****   * @brief    立即停止（所有控制模式都通用）
 283:Core/Src/ZDT_X42_V2.c ****   * @param    addr  ：电机地址
 284:Core/Src/ZDT_X42_V2.c ****   * @param    snF   ：多机同步标志，0为不启用，其余值启用
 285:Core/Src/ZDT_X42_V2.c ****   * @retval   地址 + 功能码 + 命令状态 + 校验字节
 286:Core/Src/ZDT_X42_V2.c ****   */
 287:Core/Src/ZDT_X42_V2.c **** void ZDT_X42_V2_Stop_Now(uint8_t addr, uint8_t snF)
 288:Core/Src/ZDT_X42_V2.c **** {
 1095              		.loc 1 288 1 is_stmt 1 view -0
 1096              		.cfi_startproc
 1097              		@ args = 0, pretend = 0, frame = 16
 1098              		@ frame_needed = 0, uses_anonymous_args = 0
 1099              		.loc 1 288 1 is_stmt 0 view .LVU354
 1100 0000 00B5     		push	{lr}
 1101              	.LCFI33:
 1102              		.cfi_def_cfa_offset 4
 1103              		.cfi_offset 14, -4
 1104 0002 85B0     		sub	sp, sp, #20
 1105              	.LCFI34:
 1106              		.cfi_def_cfa_offset 24
 289:Core/Src/ZDT_X42_V2.c ****   uint8_t cmd[16] = {0};
 1107              		.loc 1 289 3 is_stmt 1 view .LVU355
 1108              		.loc 1 289 11 is_stmt 0 view .LVU356
 1109 0004 0023     		movs	r3, #0
 1110 0006 0093     		str	r3, [sp]
 1111 0008 0193     		str	r3, [sp, #4]
 1112 000a 0293     		str	r3, [sp, #8]
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 27


 1113 000c 0393     		str	r3, [sp, #12]
 290:Core/Src/ZDT_X42_V2.c **** 
 291:Core/Src/ZDT_X42_V2.c ****   // 装载命令
 292:Core/Src/ZDT_X42_V2.c ****   cmd[0] =  addr;                       // 地址
 1114              		.loc 1 292 3 is_stmt 1 view .LVU357
 1115              		.loc 1 292 10 is_stmt 0 view .LVU358
 1116 000e 8DF80000 		strb	r0, [sp]
 293:Core/Src/ZDT_X42_V2.c ****   cmd[1] =  0xFE;                       // 功能码
 1117              		.loc 1 293 3 is_stmt 1 view .LVU359
 1118              		.loc 1 293 10 is_stmt 0 view .LVU360
 1119 0012 FE23     		movs	r3, #254
 1120 0014 8DF80130 		strb	r3, [sp, #1]
 294:Core/Src/ZDT_X42_V2.c ****   cmd[2] =  0x98;                       // 辅助码
 1121              		.loc 1 294 3 is_stmt 1 view .LVU361
 1122              		.loc 1 294 10 is_stmt 0 view .LVU362
 1123 0018 9823     		movs	r3, #152
 1124 001a 8DF80230 		strb	r3, [sp, #2]
 295:Core/Src/ZDT_X42_V2.c ****   cmd[3] =  snF;                        // 多机同步运动标志
 1125              		.loc 1 295 3 is_stmt 1 view .LVU363
 1126              		.loc 1 295 10 is_stmt 0 view .LVU364
 1127 001e 8DF80310 		strb	r1, [sp, #3]
 296:Core/Src/ZDT_X42_V2.c ****   cmd[4] =  0x6B;                       // 校验字节
 1128              		.loc 1 296 3 is_stmt 1 view .LVU365
 1129              		.loc 1 296 10 is_stmt 0 view .LVU366
 1130 0022 6B23     		movs	r3, #107
 1131 0024 8DF80430 		strb	r3, [sp, #4]
 297:Core/Src/ZDT_X42_V2.c **** 
 298:Core/Src/ZDT_X42_V2.c ****   // 发送命令
 299:Core/Src/ZDT_X42_V2.c ****   can_SendCmd(cmd, 5);
 1132              		.loc 1 299 3 is_stmt 1 view .LVU367
 1133 0028 0521     		movs	r1, #5
 1134              	.LVL63:
 1135              		.loc 1 299 3 is_stmt 0 view .LVU368
 1136 002a 6846     		mov	r0, sp
 1137              	.LVL64:
 1138              		.loc 1 299 3 view .LVU369
 1139 002c FFF7FEFF 		bl	can_SendCmd
 1140              	.LVL65:
 300:Core/Src/ZDT_X42_V2.c **** }
 1141              		.loc 1 300 1 view .LVU370
 1142 0030 05B0     		add	sp, sp, #20
 1143              	.LCFI35:
 1144              		.cfi_def_cfa_offset 4
 1145              		@ sp needed
 1146 0032 5DF804FB 		ldr	pc, [sp], #4
 1147              		.cfi_endproc
 1148              	.LFE143:
 1150              		.section	.text.ZDT_X42_V2_Synchronous_motion,"ax",%progbits
 1151              		.align	1
 1152              		.global	ZDT_X42_V2_Synchronous_motion
 1153              		.syntax unified
 1154              		.thumb
 1155              		.thumb_func
 1157              	ZDT_X42_V2_Synchronous_motion:
 1158              	.LVL66:
 1159              	.LFB144:
 301:Core/Src/ZDT_X42_V2.c **** 
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 28


 302:Core/Src/ZDT_X42_V2.c **** /**
 303:Core/Src/ZDT_X42_V2.c ****   * @brief    多机同步运动
 304:Core/Src/ZDT_X42_V2.c ****   * @param    addr  ：电机地址
 305:Core/Src/ZDT_X42_V2.c ****   * @retval   地址 + 功能码 + 命令状态 + 校验字节
 306:Core/Src/ZDT_X42_V2.c ****   */
 307:Core/Src/ZDT_X42_V2.c **** void ZDT_X42_V2_Synchronous_motion(uint8_t addr)
 308:Core/Src/ZDT_X42_V2.c **** {
 1160              		.loc 1 308 1 is_stmt 1 view -0
 1161              		.cfi_startproc
 1162              		@ args = 0, pretend = 0, frame = 16
 1163              		@ frame_needed = 0, uses_anonymous_args = 0
 1164              		.loc 1 308 1 is_stmt 0 view .LVU372
 1165 0000 00B5     		push	{lr}
 1166              	.LCFI36:
 1167              		.cfi_def_cfa_offset 4
 1168              		.cfi_offset 14, -4
 1169 0002 85B0     		sub	sp, sp, #20
 1170              	.LCFI37:
 1171              		.cfi_def_cfa_offset 24
 309:Core/Src/ZDT_X42_V2.c ****   uint8_t cmd[16] = {0};
 1172              		.loc 1 309 3 is_stmt 1 view .LVU373
 1173              		.loc 1 309 11 is_stmt 0 view .LVU374
 1174 0004 0023     		movs	r3, #0
 1175 0006 0093     		str	r3, [sp]
 1176 0008 0193     		str	r3, [sp, #4]
 1177 000a 0293     		str	r3, [sp, #8]
 1178 000c 0393     		str	r3, [sp, #12]
 310:Core/Src/ZDT_X42_V2.c **** 
 311:Core/Src/ZDT_X42_V2.c ****   // 装载命令
 312:Core/Src/ZDT_X42_V2.c ****   cmd[0] =  addr;                       // 地址
 1179              		.loc 1 312 3 is_stmt 1 view .LVU375
 1180              		.loc 1 312 10 is_stmt 0 view .LVU376
 1181 000e 8DF80000 		strb	r0, [sp]
 313:Core/Src/ZDT_X42_V2.c ****   cmd[1] =  0xFF;                       // 功能码
 1182              		.loc 1 313 3 is_stmt 1 view .LVU377
 1183              		.loc 1 313 10 is_stmt 0 view .LVU378
 1184 0012 FF23     		movs	r3, #255
 1185 0014 8DF80130 		strb	r3, [sp, #1]
 314:Core/Src/ZDT_X42_V2.c ****   cmd[2] =  0x66;                       // 辅助码
 1186              		.loc 1 314 3 is_stmt 1 view .LVU379
 1187              		.loc 1 314 10 is_stmt 0 view .LVU380
 1188 0018 6623     		movs	r3, #102
 1189 001a 8DF80230 		strb	r3, [sp, #2]
 315:Core/Src/ZDT_X42_V2.c ****   cmd[3] =  0x6B;                       // 校验字节
 1190              		.loc 1 315 3 is_stmt 1 view .LVU381
 1191              		.loc 1 315 10 is_stmt 0 view .LVU382
 1192 001e 6B23     		movs	r3, #107
 1193 0020 8DF80330 		strb	r3, [sp, #3]
 316:Core/Src/ZDT_X42_V2.c **** 
 317:Core/Src/ZDT_X42_V2.c ****   // 发送命令
 318:Core/Src/ZDT_X42_V2.c ****   can_SendCmd(cmd, 4);
 1194              		.loc 1 318 3 is_stmt 1 view .LVU383
 1195 0024 0421     		movs	r1, #4
 1196 0026 6846     		mov	r0, sp
 1197              	.LVL67:
 1198              		.loc 1 318 3 is_stmt 0 view .LVU384
 1199 0028 FFF7FEFF 		bl	can_SendCmd
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 29


 1200              	.LVL68:
 319:Core/Src/ZDT_X42_V2.c **** }
 1201              		.loc 1 319 1 view .LVU385
 1202 002c 05B0     		add	sp, sp, #20
 1203              	.LCFI38:
 1204              		.cfi_def_cfa_offset 4
 1205              		@ sp needed
 1206 002e 5DF804FB 		ldr	pc, [sp], #4
 1207              		.cfi_endproc
 1208              	.LFE144:
 1210              		.section	.text.ZDT_X42_V2_Origin_Set_O,"ax",%progbits
 1211              		.align	1
 1212              		.global	ZDT_X42_V2_Origin_Set_O
 1213              		.syntax unified
 1214              		.thumb
 1215              		.thumb_func
 1217              	ZDT_X42_V2_Origin_Set_O:
 1218              	.LVL69:
 1219              	.LFB145:
 320:Core/Src/ZDT_X42_V2.c **** 
 321:Core/Src/ZDT_X42_V2.c **** /**
 322:Core/Src/ZDT_X42_V2.c ****   * @brief    设置单圈回零的零点位置
 323:Core/Src/ZDT_X42_V2.c ****   * @param    addr  ：电机地址
 324:Core/Src/ZDT_X42_V2.c ****   * @param    svF   ：是否存储标志，false为不存储，true为存储
 325:Core/Src/ZDT_X42_V2.c ****   * @retval   地址 + 功能码 + 命令状态 + 校验字节
 326:Core/Src/ZDT_X42_V2.c ****   */
 327:Core/Src/ZDT_X42_V2.c **** void ZDT_X42_V2_Origin_Set_O(uint8_t addr, bool svF)
 328:Core/Src/ZDT_X42_V2.c **** {
 1220              		.loc 1 328 1 is_stmt 1 view -0
 1221              		.cfi_startproc
 1222              		@ args = 0, pretend = 0, frame = 16
 1223              		@ frame_needed = 0, uses_anonymous_args = 0
 1224              		.loc 1 328 1 is_stmt 0 view .LVU387
 1225 0000 00B5     		push	{lr}
 1226              	.LCFI39:
 1227              		.cfi_def_cfa_offset 4
 1228              		.cfi_offset 14, -4
 1229 0002 85B0     		sub	sp, sp, #20
 1230              	.LCFI40:
 1231              		.cfi_def_cfa_offset 24
 329:Core/Src/ZDT_X42_V2.c ****   uint8_t cmd[16] = {0};
 1232              		.loc 1 329 3 is_stmt 1 view .LVU388
 1233              		.loc 1 329 11 is_stmt 0 view .LVU389
 1234 0004 0023     		movs	r3, #0
 1235 0006 0093     		str	r3, [sp]
 1236 0008 0193     		str	r3, [sp, #4]
 1237 000a 0293     		str	r3, [sp, #8]
 1238 000c 0393     		str	r3, [sp, #12]
 330:Core/Src/ZDT_X42_V2.c **** 
 331:Core/Src/ZDT_X42_V2.c ****   // 装载命令
 332:Core/Src/ZDT_X42_V2.c ****   cmd[0] =  addr;                       // 地址
 1239              		.loc 1 332 3 is_stmt 1 view .LVU390
 1240              		.loc 1 332 10 is_stmt 0 view .LVU391
 1241 000e 8DF80000 		strb	r0, [sp]
 333:Core/Src/ZDT_X42_V2.c ****   cmd[1] =  0x93;                       // 功能码
 1242              		.loc 1 333 3 is_stmt 1 view .LVU392
 1243              		.loc 1 333 10 is_stmt 0 view .LVU393
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 30


 1244 0012 9323     		movs	r3, #147
 1245 0014 8DF80130 		strb	r3, [sp, #1]
 334:Core/Src/ZDT_X42_V2.c ****   cmd[2] =  0x88;                       // 辅助码
 1246              		.loc 1 334 3 is_stmt 1 view .LVU394
 1247              		.loc 1 334 10 is_stmt 0 view .LVU395
 1248 0018 8823     		movs	r3, #136
 1249 001a 8DF80230 		strb	r3, [sp, #2]
 335:Core/Src/ZDT_X42_V2.c ****   cmd[3] =  svF;                        // 是否存储标志，false为不存储，true为存储
 1250              		.loc 1 335 3 is_stmt 1 view .LVU396
 1251              		.loc 1 335 10 is_stmt 0 view .LVU397
 1252 001e 8DF80310 		strb	r1, [sp, #3]
 336:Core/Src/ZDT_X42_V2.c ****   cmd[4] =  0x6B;                       // 校验字节
 1253              		.loc 1 336 3 is_stmt 1 view .LVU398
 1254              		.loc 1 336 10 is_stmt 0 view .LVU399
 1255 0022 6B23     		movs	r3, #107
 1256 0024 8DF80430 		strb	r3, [sp, #4]
 337:Core/Src/ZDT_X42_V2.c **** 
 338:Core/Src/ZDT_X42_V2.c ****   // 发送命令
 339:Core/Src/ZDT_X42_V2.c ****   can_SendCmd(cmd, 5);
 1257              		.loc 1 339 3 is_stmt 1 view .LVU400
 1258 0028 0521     		movs	r1, #5
 1259              	.LVL70:
 1260              		.loc 1 339 3 is_stmt 0 view .LVU401
 1261 002a 6846     		mov	r0, sp
 1262              	.LVL71:
 1263              		.loc 1 339 3 view .LVU402
 1264 002c FFF7FEFF 		bl	can_SendCmd
 1265              	.LVL72:
 340:Core/Src/ZDT_X42_V2.c **** }
 1266              		.loc 1 340 1 view .LVU403
 1267 0030 05B0     		add	sp, sp, #20
 1268              	.LCFI41:
 1269              		.cfi_def_cfa_offset 4
 1270              		@ sp needed
 1271 0032 5DF804FB 		ldr	pc, [sp], #4
 1272              		.cfi_endproc
 1273              	.LFE145:
 1275              		.section	.text.ZDT_X42_V2_Origin_Modify_Params,"ax",%progbits
 1276              		.align	1
 1277              		.global	ZDT_X42_V2_Origin_Modify_Params
 1278              		.syntax unified
 1279              		.thumb
 1280              		.thumb_func
 1282              	ZDT_X42_V2_Origin_Modify_Params:
 1283              	.LVL73:
 1284              	.LFB146:
 341:Core/Src/ZDT_X42_V2.c **** 
 342:Core/Src/ZDT_X42_V2.c **** /**
 343:Core/Src/ZDT_X42_V2.c ****   * @brief    修改回零参数
 344:Core/Src/ZDT_X42_V2.c ****   * @param    addr   ：电机地址
 345:Core/Src/ZDT_X42_V2.c ****   * @param    svF    ：是否存储标志，false为不存储，true为存储
 346:Core/Src/ZDT_X42_V2.c ****   * @param    o_mode ：回零模式，0为单圈就近回零，1为单圈方向回零，2为多圈无限位碰撞回零，3为多圈有
 347:Core/Src/ZDT_X42_V2.c ****   * @param    o_dir  ：回零方向，0为CW，其余值为CCW
 348:Core/Src/ZDT_X42_V2.c ****   * @param    o_vel  ：回零速度，单位：RPM（转/分钟）
 349:Core/Src/ZDT_X42_V2.c ****   * @param    o_tm   ：回零超时时间，单位：毫秒
 350:Core/Src/ZDT_X42_V2.c ****   * @param    sl_vel ：无限位碰撞回零检测转速，单位：RPM（转/分钟）
 351:Core/Src/ZDT_X42_V2.c ****   * @param    sl_ma  ：无限位碰撞回零检测电流，单位：Ma（毫安）
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 31


 352:Core/Src/ZDT_X42_V2.c ****   * @param    sl_ms  ：无限位碰撞回零检测时间，单位：Ms（毫秒）
 353:Core/Src/ZDT_X42_V2.c ****   * @param    potF   ：上电自动触发回零，false为不使能，true为使能
 354:Core/Src/ZDT_X42_V2.c ****   * @retval   地址 + 功能码 + 命令状态 + 校验字节
 355:Core/Src/ZDT_X42_V2.c ****   */
 356:Core/Src/ZDT_X42_V2.c **** void ZDT_X42_V2_Origin_Modify_Params(uint8_t addr, bool svF, uint8_t o_mode, uint8_t o_dir, uint16_
 357:Core/Src/ZDT_X42_V2.c **** {
 1285              		.loc 1 357 1 is_stmt 1 view -0
 1286              		.cfi_startproc
 1287              		@ args = 24, pretend = 0, frame = 40
 1288              		@ frame_needed = 0, uses_anonymous_args = 0
 1289              		.loc 1 357 1 is_stmt 0 view .LVU405
 1290 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1291              	.LCFI42:
 1292              		.cfi_def_cfa_offset 36
 1293              		.cfi_offset 4, -36
 1294              		.cfi_offset 5, -32
 1295              		.cfi_offset 6, -28
 1296              		.cfi_offset 7, -24
 1297              		.cfi_offset 8, -20
 1298              		.cfi_offset 9, -16
 1299              		.cfi_offset 10, -12
 1300              		.cfi_offset 11, -8
 1301              		.cfi_offset 14, -4
 1302 0004 8BB0     		sub	sp, sp, #44
 1303              	.LCFI43:
 1304              		.cfi_def_cfa_offset 80
 1305 0006 0746     		mov	r7, r0
 1306 0008 0E46     		mov	r6, r1
 1307 000a 1546     		mov	r5, r2
 1308 000c 0193     		str	r3, [sp, #4]
 1309 000e BDF850B0 		ldrh	fp, [sp, #80]
 1310 0012 159C     		ldr	r4, [sp, #84]
 1311 0014 BDF858A0 		ldrh	r10, [sp, #88]
 1312 0018 BDF85C90 		ldrh	r9, [sp, #92]
 1313 001c BDF86080 		ldrh	r8, [sp, #96]
 358:Core/Src/ZDT_X42_V2.c ****   uint8_t cmd[32] = {0};
 1314              		.loc 1 358 3 is_stmt 1 view .LVU406
 1315              		.loc 1 358 11 is_stmt 0 view .LVU407
 1316 0020 2022     		movs	r2, #32
 1317              	.LVL74:
 1318              		.loc 1 358 11 view .LVU408
 1319 0022 0021     		movs	r1, #0
 1320              	.LVL75:
 1321              		.loc 1 358 11 view .LVU409
 1322 0024 02A8     		add	r0, sp, #8
 1323              	.LVL76:
 1324              		.loc 1 358 11 view .LVU410
 1325 0026 FFF7FEFF 		bl	memset
 1326              	.LVL77:
 359:Core/Src/ZDT_X42_V2.c **** 
 360:Core/Src/ZDT_X42_V2.c ****   // 装载命令
 361:Core/Src/ZDT_X42_V2.c ****   cmd[0] =  addr;                       // 地址
 1327              		.loc 1 361 3 is_stmt 1 view .LVU411
 1328              		.loc 1 361 10 is_stmt 0 view .LVU412
 1329 002a 8DF80870 		strb	r7, [sp, #8]
 362:Core/Src/ZDT_X42_V2.c ****   cmd[1] =  0x4C;                       // 功能码
 1330              		.loc 1 362 3 is_stmt 1 view .LVU413
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 32


 1331              		.loc 1 362 10 is_stmt 0 view .LVU414
 1332 002e 4C23     		movs	r3, #76
 1333 0030 8DF80930 		strb	r3, [sp, #9]
 363:Core/Src/ZDT_X42_V2.c ****   cmd[2] =  0xAE;                       // 辅助码
 1334              		.loc 1 363 3 is_stmt 1 view .LVU415
 1335              		.loc 1 363 10 is_stmt 0 view .LVU416
 1336 0034 AE23     		movs	r3, #174
 1337 0036 8DF80A30 		strb	r3, [sp, #10]
 364:Core/Src/ZDT_X42_V2.c ****   cmd[3] =  svF;                        // 是否存储标志，false为不存储，true为存储
 1338              		.loc 1 364 3 is_stmt 1 view .LVU417
 1339              		.loc 1 364 10 is_stmt 0 view .LVU418
 1340 003a 8DF80B60 		strb	r6, [sp, #11]
 365:Core/Src/ZDT_X42_V2.c ****   cmd[4] =  o_mode;                     // 回零模式，0为单圈就近回零，1为单圈方向回零，2为多圈无限
 1341              		.loc 1 365 3 is_stmt 1 view .LVU419
 1342              		.loc 1 365 10 is_stmt 0 view .LVU420
 1343 003e 8DF80C50 		strb	r5, [sp, #12]
 366:Core/Src/ZDT_X42_V2.c ****   cmd[5] =  o_dir;                      // 回零方向
 1344              		.loc 1 366 3 is_stmt 1 view .LVU421
 1345              		.loc 1 366 10 is_stmt 0 view .LVU422
 1346 0042 019B     		ldr	r3, [sp, #4]
 1347 0044 8DF80D30 		strb	r3, [sp, #13]
 367:Core/Src/ZDT_X42_V2.c ****   cmd[6]  =  (uint8_t)(o_vel >> 8);     // 回零速度(RPM)高8位字节
 1348              		.loc 1 367 3 is_stmt 1 view .LVU423
 1349              		.loc 1 367 14 is_stmt 0 view .LVU424
 1350 0048 4FEA1B23 		lsr	r3, fp, #8
 1351              		.loc 1 367 11 view .LVU425
 1352 004c 8DF80E30 		strb	r3, [sp, #14]
 368:Core/Src/ZDT_X42_V2.c ****   cmd[7]  =  (uint8_t)(o_vel >> 0);     // 回零速度(RPM)低8位字节
 1353              		.loc 1 368 3 is_stmt 1 view .LVU426
 1354              		.loc 1 368 11 is_stmt 0 view .LVU427
 1355 0050 8DF80FB0 		strb	fp, [sp, #15]
 369:Core/Src/ZDT_X42_V2.c ****   cmd[8]  =  (uint8_t)(o_tm >> 24);     // 回零超时时间(bit24 - bit31)
 1356              		.loc 1 369 3 is_stmt 1 view .LVU428
 1357              		.loc 1 369 14 is_stmt 0 view .LVU429
 1358 0054 230E     		lsrs	r3, r4, #24
 1359              		.loc 1 369 11 view .LVU430
 1360 0056 8DF81030 		strb	r3, [sp, #16]
 370:Core/Src/ZDT_X42_V2.c ****   cmd[9]  =  (uint8_t)(o_tm >> 16);     // 回零超时时间(bit16 - bit23)
 1361              		.loc 1 370 3 is_stmt 1 view .LVU431
 1362              		.loc 1 370 14 is_stmt 0 view .LVU432
 1363 005a C4F30743 		ubfx	r3, r4, #16, #8
 1364              		.loc 1 370 11 view .LVU433
 1365 005e 8DF81130 		strb	r3, [sp, #17]
 371:Core/Src/ZDT_X42_V2.c ****   cmd[10] =  (uint8_t)(o_tm >> 8);      // 回零超时时间(bit8  - bit15)
 1366              		.loc 1 371 3 is_stmt 1 view .LVU434
 1367              		.loc 1 371 14 is_stmt 0 view .LVU435
 1368 0062 C4F30723 		ubfx	r3, r4, #8, #8
 1369              		.loc 1 371 11 view .LVU436
 1370 0066 8DF81230 		strb	r3, [sp, #18]
 372:Core/Src/ZDT_X42_V2.c ****   cmd[11] =  (uint8_t)(o_tm >> 0);      // 回零超时时间(bit0  - bit7 )
 1371              		.loc 1 372 3 is_stmt 1 view .LVU437
 1372              		.loc 1 372 11 is_stmt 0 view .LVU438
 1373 006a 8DF81340 		strb	r4, [sp, #19]
 373:Core/Src/ZDT_X42_V2.c ****   cmd[12] =  (uint8_t)(sl_vel >> 8);    // 无限位碰撞回零检测转速(RPM)高8位字节
 1374              		.loc 1 373 3 is_stmt 1 view .LVU439
 1375              		.loc 1 373 14 is_stmt 0 view .LVU440
 1376 006e 4FEA1A23 		lsr	r3, r10, #8
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 33


 1377              		.loc 1 373 11 view .LVU441
 1378 0072 8DF81430 		strb	r3, [sp, #20]
 374:Core/Src/ZDT_X42_V2.c ****   cmd[13] =  (uint8_t)(sl_vel >> 0);    // 无限位碰撞回零检测转速(RPM)低8位字节
 1379              		.loc 1 374 3 is_stmt 1 view .LVU442
 1380              		.loc 1 374 11 is_stmt 0 view .LVU443
 1381 0076 8DF815A0 		strb	r10, [sp, #21]
 375:Core/Src/ZDT_X42_V2.c ****   cmd[14] =  (uint8_t)(sl_ma >> 8);     // 无限位碰撞回零检测电流(Ma)高8位字节
 1382              		.loc 1 375 3 is_stmt 1 view .LVU444
 1383              		.loc 1 375 14 is_stmt 0 view .LVU445
 1384 007a 4FEA1923 		lsr	r3, r9, #8
 1385              		.loc 1 375 11 view .LVU446
 1386 007e 8DF81630 		strb	r3, [sp, #22]
 376:Core/Src/ZDT_X42_V2.c ****   cmd[15] =  (uint8_t)(sl_ma >> 0);     // 无限位碰撞回零检测电流(Ma)低8位字节
 1387              		.loc 1 376 3 is_stmt 1 view .LVU447
 1388              		.loc 1 376 11 is_stmt 0 view .LVU448
 1389 0082 8DF81790 		strb	r9, [sp, #23]
 377:Core/Src/ZDT_X42_V2.c ****   cmd[16] =  (uint8_t)(sl_ms >> 8);     // 无限位碰撞回零检测时间(Ms)高8位字节
 1390              		.loc 1 377 3 is_stmt 1 view .LVU449
 1391              		.loc 1 377 14 is_stmt 0 view .LVU450
 1392 0086 4FEA1823 		lsr	r3, r8, #8
 1393              		.loc 1 377 11 view .LVU451
 1394 008a 8DF81830 		strb	r3, [sp, #24]
 378:Core/Src/ZDT_X42_V2.c ****   cmd[17] =  (uint8_t)(sl_ms >> 0);     // 无限位碰撞回零检测时间(Ms)低8位字节
 1395              		.loc 1 378 3 is_stmt 1 view .LVU452
 1396              		.loc 1 378 11 is_stmt 0 view .LVU453
 1397 008e 8DF81980 		strb	r8, [sp, #25]
 379:Core/Src/ZDT_X42_V2.c ****   cmd[18] =  potF;                      // 上电自动触发回零，false为不使能，true为使能
 1398              		.loc 1 379 3 is_stmt 1 view .LVU454
 1399              		.loc 1 379 11 is_stmt 0 view .LVU455
 1400 0092 9DF86430 		ldrb	r3, [sp, #100]	@ zero_extendqisi2
 1401 0096 8DF81A30 		strb	r3, [sp, #26]
 380:Core/Src/ZDT_X42_V2.c ****   cmd[19] =  0x6B;                      // 校验字节
 1402              		.loc 1 380 3 is_stmt 1 view .LVU456
 1403              		.loc 1 380 11 is_stmt 0 view .LVU457
 1404 009a 6B23     		movs	r3, #107
 1405 009c 8DF81B30 		strb	r3, [sp, #27]
 381:Core/Src/ZDT_X42_V2.c **** 
 382:Core/Src/ZDT_X42_V2.c ****   // 发送命令
 383:Core/Src/ZDT_X42_V2.c ****   can_SendCmd(cmd, 20);
 1406              		.loc 1 383 3 is_stmt 1 view .LVU458
 1407 00a0 1421     		movs	r1, #20
 1408 00a2 02A8     		add	r0, sp, #8
 1409 00a4 FFF7FEFF 		bl	can_SendCmd
 1410              	.LVL78:
 384:Core/Src/ZDT_X42_V2.c **** }
 1411              		.loc 1 384 1 is_stmt 0 view .LVU459
 1412 00a8 0BB0     		add	sp, sp, #44
 1413              	.LCFI44:
 1414              		.cfi_def_cfa_offset 36
 1415              		@ sp needed
 1416 00aa BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1417              		.loc 1 384 1 view .LVU460
 1418              		.cfi_endproc
 1419              	.LFE146:
 1421              		.section	.text.ZDT_X42_V2_Origin_Trigger_Return,"ax",%progbits
 1422              		.align	1
 1423              		.global	ZDT_X42_V2_Origin_Trigger_Return
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 34


 1424              		.syntax unified
 1425              		.thumb
 1426              		.thumb_func
 1428              	ZDT_X42_V2_Origin_Trigger_Return:
 1429              	.LVL79:
 1430              	.LFB147:
 385:Core/Src/ZDT_X42_V2.c **** 
 386:Core/Src/ZDT_X42_V2.c **** /**
 387:Core/Src/ZDT_X42_V2.c ****   * @brief    触发回零
 388:Core/Src/ZDT_X42_V2.c ****   * @param    addr   ：电机地址
 389:Core/Src/ZDT_X42_V2.c ****   * @param    o_mode ：回零模式，0为单圈就近回零，1为单圈方向回零，2为多圈无限位碰撞回零，3为多圈有
 390:Core/Src/ZDT_X42_V2.c ****   * @param    snF    ：多机同步标志，false为不启用，true为启用
 391:Core/Src/ZDT_X42_V2.c ****   * @retval   地址 + 功能码 + 命令状态 + 校验字节
 392:Core/Src/ZDT_X42_V2.c ****   */
 393:Core/Src/ZDT_X42_V2.c **** void ZDT_X42_V2_Origin_Trigger_Return(uint8_t addr, uint8_t o_mode, bool snF)
 394:Core/Src/ZDT_X42_V2.c **** {
 1431              		.loc 1 394 1 is_stmt 1 view -0
 1432              		.cfi_startproc
 1433              		@ args = 0, pretend = 0, frame = 16
 1434              		@ frame_needed = 0, uses_anonymous_args = 0
 1435              		.loc 1 394 1 is_stmt 0 view .LVU462
 1436 0000 00B5     		push	{lr}
 1437              	.LCFI45:
 1438              		.cfi_def_cfa_offset 4
 1439              		.cfi_offset 14, -4
 1440 0002 85B0     		sub	sp, sp, #20
 1441              	.LCFI46:
 1442              		.cfi_def_cfa_offset 24
 395:Core/Src/ZDT_X42_V2.c ****   uint8_t cmd[16] = {0};
 1443              		.loc 1 395 3 is_stmt 1 view .LVU463
 1444              		.loc 1 395 11 is_stmt 0 view .LVU464
 1445 0004 0023     		movs	r3, #0
 1446 0006 0093     		str	r3, [sp]
 1447 0008 0193     		str	r3, [sp, #4]
 1448 000a 0293     		str	r3, [sp, #8]
 1449 000c 0393     		str	r3, [sp, #12]
 396:Core/Src/ZDT_X42_V2.c **** 
 397:Core/Src/ZDT_X42_V2.c ****   // 装载命令
 398:Core/Src/ZDT_X42_V2.c ****   cmd[0] =  addr;                       // 地址
 1450              		.loc 1 398 3 is_stmt 1 view .LVU465
 1451              		.loc 1 398 10 is_stmt 0 view .LVU466
 1452 000e 8DF80000 		strb	r0, [sp]
 399:Core/Src/ZDT_X42_V2.c ****   cmd[1] =  0x9A;                       // 功能码
 1453              		.loc 1 399 3 is_stmt 1 view .LVU467
 1454              		.loc 1 399 10 is_stmt 0 view .LVU468
 1455 0012 9A23     		movs	r3, #154
 1456 0014 8DF80130 		strb	r3, [sp, #1]
 400:Core/Src/ZDT_X42_V2.c ****   cmd[2] =  o_mode;                     // 回零模式，0为单圈就近回零，1为单圈方向回零，2为多圈无限
 1457              		.loc 1 400 3 is_stmt 1 view .LVU469
 1458              		.loc 1 400 10 is_stmt 0 view .LVU470
 1459 0018 8DF80210 		strb	r1, [sp, #2]
 401:Core/Src/ZDT_X42_V2.c ****   cmd[3] =  snF;                        // 多机同步运动标志，false为不启用，true为启用
 1460              		.loc 1 401 3 is_stmt 1 view .LVU471
 1461              		.loc 1 401 10 is_stmt 0 view .LVU472
 1462 001c 8DF80320 		strb	r2, [sp, #3]
 402:Core/Src/ZDT_X42_V2.c ****   cmd[4] =  0x6B;                       // 校验字节
 1463              		.loc 1 402 3 is_stmt 1 view .LVU473
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 35


 1464              		.loc 1 402 10 is_stmt 0 view .LVU474
 1465 0020 6B23     		movs	r3, #107
 1466 0022 8DF80430 		strb	r3, [sp, #4]
 403:Core/Src/ZDT_X42_V2.c **** 
 404:Core/Src/ZDT_X42_V2.c ****   // 发送命令
 405:Core/Src/ZDT_X42_V2.c ****   can_SendCmd(cmd, 5);
 1467              		.loc 1 405 3 is_stmt 1 view .LVU475
 1468 0026 0521     		movs	r1, #5
 1469              	.LVL80:
 1470              		.loc 1 405 3 is_stmt 0 view .LVU476
 1471 0028 6846     		mov	r0, sp
 1472              	.LVL81:
 1473              		.loc 1 405 3 view .LVU477
 1474 002a FFF7FEFF 		bl	can_SendCmd
 1475              	.LVL82:
 406:Core/Src/ZDT_X42_V2.c **** }
 1476              		.loc 1 406 1 view .LVU478
 1477 002e 05B0     		add	sp, sp, #20
 1478              	.LCFI47:
 1479              		.cfi_def_cfa_offset 4
 1480              		@ sp needed
 1481 0030 5DF804FB 		ldr	pc, [sp], #4
 1482              		.cfi_endproc
 1483              	.LFE147:
 1485              		.section	.text.ZDT_X42_V2_Origin_Interrupt,"ax",%progbits
 1486              		.align	1
 1487              		.global	ZDT_X42_V2_Origin_Interrupt
 1488              		.syntax unified
 1489              		.thumb
 1490              		.thumb_func
 1492              	ZDT_X42_V2_Origin_Interrupt:
 1493              	.LVL83:
 1494              	.LFB148:
 407:Core/Src/ZDT_X42_V2.c **** 
 408:Core/Src/ZDT_X42_V2.c **** /**
 409:Core/Src/ZDT_X42_V2.c ****   * @brief    强制中断并退出回零
 410:Core/Src/ZDT_X42_V2.c ****   * @param    addr  ：电机地址
 411:Core/Src/ZDT_X42_V2.c ****   * @retval   地址 + 功能码 + 命令状态 + 校验字节
 412:Core/Src/ZDT_X42_V2.c ****   */
 413:Core/Src/ZDT_X42_V2.c **** void ZDT_X42_V2_Origin_Interrupt(uint8_t addr)
 414:Core/Src/ZDT_X42_V2.c **** {
 1495              		.loc 1 414 1 is_stmt 1 view -0
 1496              		.cfi_startproc
 1497              		@ args = 0, pretend = 0, frame = 16
 1498              		@ frame_needed = 0, uses_anonymous_args = 0
 1499              		.loc 1 414 1 is_stmt 0 view .LVU480
 1500 0000 00B5     		push	{lr}
 1501              	.LCFI48:
 1502              		.cfi_def_cfa_offset 4
 1503              		.cfi_offset 14, -4
 1504 0002 85B0     		sub	sp, sp, #20
 1505              	.LCFI49:
 1506              		.cfi_def_cfa_offset 24
 415:Core/Src/ZDT_X42_V2.c ****   uint8_t cmd[16] = {0};
 1507              		.loc 1 415 3 is_stmt 1 view .LVU481
 1508              		.loc 1 415 11 is_stmt 0 view .LVU482
 1509 0004 0023     		movs	r3, #0
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 36


 1510 0006 0093     		str	r3, [sp]
 1511 0008 0193     		str	r3, [sp, #4]
 1512 000a 0293     		str	r3, [sp, #8]
 1513 000c 0393     		str	r3, [sp, #12]
 416:Core/Src/ZDT_X42_V2.c **** 
 417:Core/Src/ZDT_X42_V2.c ****   // 装载命令
 418:Core/Src/ZDT_X42_V2.c ****   cmd[0] =  addr;                       // 地址
 1514              		.loc 1 418 3 is_stmt 1 view .LVU483
 1515              		.loc 1 418 10 is_stmt 0 view .LVU484
 1516 000e 8DF80000 		strb	r0, [sp]
 419:Core/Src/ZDT_X42_V2.c ****   cmd[1] =  0x9C;                       // 功能码
 1517              		.loc 1 419 3 is_stmt 1 view .LVU485
 1518              		.loc 1 419 10 is_stmt 0 view .LVU486
 1519 0012 9C23     		movs	r3, #156
 1520 0014 8DF80130 		strb	r3, [sp, #1]
 420:Core/Src/ZDT_X42_V2.c ****   cmd[2] =  0x48;                       // 辅助码
 1521              		.loc 1 420 3 is_stmt 1 view .LVU487
 1522              		.loc 1 420 10 is_stmt 0 view .LVU488
 1523 0018 4823     		movs	r3, #72
 1524 001a 8DF80230 		strb	r3, [sp, #2]
 421:Core/Src/ZDT_X42_V2.c ****   cmd[3] =  0x6B;                       // 校验字节
 1525              		.loc 1 421 3 is_stmt 1 view .LVU489
 1526              		.loc 1 421 10 is_stmt 0 view .LVU490
 1527 001e 6B23     		movs	r3, #107
 1528 0020 8DF80330 		strb	r3, [sp, #3]
 422:Core/Src/ZDT_X42_V2.c **** 
 423:Core/Src/ZDT_X42_V2.c ****   // 发送命令
 424:Core/Src/ZDT_X42_V2.c ****   can_SendCmd(cmd, 4);
 1529              		.loc 1 424 3 is_stmt 1 view .LVU491
 1530 0024 0421     		movs	r1, #4
 1531 0026 6846     		mov	r0, sp
 1532              	.LVL84:
 1533              		.loc 1 424 3 is_stmt 0 view .LVU492
 1534 0028 FFF7FEFF 		bl	can_SendCmd
 1535              	.LVL85:
 425:Core/Src/ZDT_X42_V2.c **** }
 1536              		.loc 1 425 1 view .LVU493
 1537 002c 05B0     		add	sp, sp, #20
 1538              	.LCFI50:
 1539              		.cfi_def_cfa_offset 4
 1540              		@ sp needed
 1541 002e 5DF804FB 		ldr	pc, [sp], #4
 1542              		.cfi_endproc
 1543              	.LFE148:
 1545              		.section	.text.ZDT_X42_V2_Receive_Data,"ax",%progbits
 1546              		.align	1
 1547              		.global	ZDT_X42_V2_Receive_Data
 1548              		.syntax unified
 1549              		.thumb
 1550              		.thumb_func
 1552              	ZDT_X42_V2_Receive_Data:
 1553              	.LVL86:
 1554              	.LFB149:
 426:Core/Src/ZDT_X42_V2.c **** 
 427:Core/Src/ZDT_X42_V2.c **** /**
 428:Core/Src/ZDT_X42_V2.c ****   * @brief    接收数据
 429:Core/Src/ZDT_X42_V2.c ****   * @param    rxCmd   : 接收到的数据缓存在该数组
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 37


 430:Core/Src/ZDT_X42_V2.c ****   * @param    rxCount : 接收到的数据长度
 431:Core/Src/ZDT_X42_V2.c ****   * @retval   无
 432:Core/Src/ZDT_X42_V2.c ****   */
 433:Core/Src/ZDT_X42_V2.c **** void ZDT_X42_V2_Receive_Data(uint8_t *rxCmd, uint8_t *rxCount)
 434:Core/Src/ZDT_X42_V2.c **** {
 1555              		.loc 1 434 1 is_stmt 1 view -0
 1556              		.cfi_startproc
 1557              		@ args = 0, pretend = 0, frame = 0
 1558              		@ frame_needed = 0, uses_anonymous_args = 0
 1559              		.loc 1 434 1 is_stmt 0 view .LVU495
 1560 0000 70B5     		push	{r4, r5, r6, lr}
 1561              	.LCFI51:
 1562              		.cfi_def_cfa_offset 16
 1563              		.cfi_offset 4, -16
 1564              		.cfi_offset 5, -12
 1565              		.cfi_offset 6, -8
 1566              		.cfi_offset 14, -4
 1567 0002 0546     		mov	r5, r0
 1568 0004 0E46     		mov	r6, r1
 435:Core/Src/ZDT_X42_V2.c **** 	uint16_t i = 0, timeout = 0;
 1569              		.loc 1 435 2 is_stmt 1 view .LVU496
 1570              	.LVL87:
 436:Core/Src/ZDT_X42_V2.c **** 
 437:Core/Src/ZDT_X42_V2.c **** 	// can.rxFrameFlag在can.c的CAN接收中断中进行置位
 438:Core/Src/ZDT_X42_V2.c **** 	while(can.rxFrameFlag == false)
 1571              		.loc 1 438 2 view .LVU497
 435:Core/Src/ZDT_X42_V2.c **** 	uint16_t i = 0, timeout = 0;
 1572              		.loc 1 435 18 is_stmt 0 view .LVU498
 1573 0006 0024     		movs	r4, #0
 1574              	.LVL88:
 1575              	.L84:
 1576              		.loc 1 438 24 is_stmt 1 view .LVU499
 1577              		.loc 1 438 11 is_stmt 0 view .LVU500
 1578 0008 114B     		ldr	r3, .L90
 1579 000a 93F87430 		ldrb	r3, [r3, #116]	@ zero_extendqisi2
 1580              		.loc 1 438 24 view .LVU501
 1581 000e 4BB9     		cbnz	r3, .L85
 439:Core/Src/ZDT_X42_V2.c **** 	{
 440:Core/Src/ZDT_X42_V2.c **** 		// 等待100毫秒还未置位，就判定为没有数据返回，超时退出
 441:Core/Src/ZDT_X42_V2.c **** 		HAL_Delay(1); ++timeout; if(timeout > 100) { can.CAN_RxMsg.DLC = 0; break; }
 1582              		.loc 1 441 3 is_stmt 1 view .LVU502
 1583 0010 0120     		movs	r0, #1
 1584 0012 FFF7FEFF 		bl	HAL_Delay
 1585              	.LVL89:
 1586              		.loc 1 441 17 discriminator 1 view .LVU503
 1587 0016 0134     		adds	r4, r4, #1
 1588              	.LVL90:
 1589              		.loc 1 441 17 is_stmt 0 discriminator 1 view .LVU504
 1590 0018 A4B2     		uxth	r4, r4
 1591              	.LVL91:
 1592              		.loc 1 441 28 is_stmt 1 discriminator 1 view .LVU505
 1593              		.loc 1 441 30 is_stmt 0 discriminator 1 view .LVU506
 1594 001a 642C     		cmp	r4, #100
 1595 001c F4D9     		bls	.L84
 1596              		.loc 1 441 48 is_stmt 1 discriminator 1 view .LVU507
 1597              		.loc 1 441 66 is_stmt 0 discriminator 1 view .LVU508
 1598 001e 0C4B     		ldr	r3, .L90
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 38


 1599 0020 0022     		movs	r2, #0
 1600 0022 1A61     		str	r2, [r3, #16]
 1601              		.loc 1 441 71 is_stmt 1 discriminator 1 view .LVU509
 1602              	.L85:
 442:Core/Src/ZDT_X42_V2.c **** 	}
 443:Core/Src/ZDT_X42_V2.c **** 	can.rxFrameFlag = false;
 1603              		.loc 1 443 2 view .LVU510
 1604              		.loc 1 443 18 is_stmt 0 view .LVU511
 1605 0024 0A4A     		ldr	r2, .L90
 1606 0026 0023     		movs	r3, #0
 1607 0028 82F87430 		strb	r3, [r2, #116]
 444:Core/Src/ZDT_X42_V2.c **** 
 445:Core/Src/ZDT_X42_V2.c **** 	// 获取返回数据长度
 446:Core/Src/ZDT_X42_V2.c **** 	*rxCount = can.CAN_RxMsg.DLC;
 1608              		.loc 1 446 2 is_stmt 1 view .LVU512
 1609              		.loc 1 446 26 is_stmt 0 view .LVU513
 1610 002c 1169     		ldr	r1, [r2, #16]
 1611              		.loc 1 446 11 view .LVU514
 1612 002e 3170     		strb	r1, [r6]
 447:Core/Src/ZDT_X42_V2.c **** 
 448:Core/Src/ZDT_X42_V2.c **** 	// 获取返回数据地址
 449:Core/Src/ZDT_X42_V2.c **** 	rxCmd[0] = (uint8_t)(can.CAN_TxMsg.ExtId >> 8);
 1613              		.loc 1 449 2 is_stmt 1 view .LVU515
 1614              		.loc 1 449 36 is_stmt 0 view .LVU516
 1615 0030 126C     		ldr	r2, [r2, #64]
 1616              		.loc 1 449 13 view .LVU517
 1617 0032 C2F30722 		ubfx	r2, r2, #8, #8
 1618              		.loc 1 449 11 view .LVU518
 1619 0036 2A70     		strb	r2, [r5]
 450:Core/Src/ZDT_X42_V2.c **** 
 451:Core/Src/ZDT_X42_V2.c **** 	// 获取返回数据（只能获取8字节以内的单包数据）
 452:Core/Src/ZDT_X42_V2.c **** 	for(i=0; i < can.CAN_RxMsg.DLC; i++) { rxCmd[i + 1] = can.rxData[i]; }
 1620              		.loc 1 452 2 is_stmt 1 view .LVU519
 1621              		.loc 1 452 2 is_stmt 0 view .LVU520
 1622 0038 05E0     		b	.L87
 1623              	.LVL92:
 1624              	.L88:
 1625              		.loc 1 452 41 is_stmt 1 discriminator 3 view .LVU521
 1626              		.loc 1 452 46 is_stmt 0 discriminator 3 view .LVU522
 1627 003a 591C     		adds	r1, r3, #1
 1628              		.loc 1 452 66 discriminator 3 view .LVU523
 1629 003c 044A     		ldr	r2, .L90
 1630 003e 1A44     		add	r2, r2, r3
 1631 0040 127F     		ldrb	r2, [r2, #28]	@ zero_extendqisi2
 1632              		.loc 1 452 54 discriminator 3 view .LVU524
 1633 0042 6A54     		strb	r2, [r5, r1]
 1634              		.loc 1 452 35 is_stmt 1 discriminator 3 view .LVU525
 1635 0044 8BB2     		uxth	r3, r1
 1636              	.LVL93:
 1637              	.L87:
 1638              		.loc 1 452 13 discriminator 1 view .LVU526
 1639              		.loc 1 452 28 is_stmt 0 discriminator 1 view .LVU527
 1640 0046 024A     		ldr	r2, .L90
 1641 0048 1269     		ldr	r2, [r2, #16]
 1642              		.loc 1 452 13 discriminator 1 view .LVU528
 1643 004a 9342     		cmp	r3, r2
 1644 004c F5D3     		bcc	.L88
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 39


 453:Core/Src/ZDT_X42_V2.c **** }
 1645              		.loc 1 453 1 view .LVU529
 1646 004e 70BD     		pop	{r4, r5, r6, pc}
 1647              	.LVL94:
 1648              	.L91:
 1649              		.loc 1 453 1 view .LVU530
 1650              		.align	2
 1651              	.L90:
 1652 0050 00000000 		.word	can
 1653              		.cfi_endproc
 1654              	.LFE149:
 1656              		.text
 1657              	.Letext0:
 1658              		.file 2 "C:/DevToolBox_Slot/GNU_CompilerCollection/arm-none-eabi/include/machine/_default_types.h"
 1659              		.file 3 "C:/DevToolBox_Slot/GNU_CompilerCollection/arm-none-eabi/include/sys/_stdint.h"
 1660              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 1661              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_can.h"
 1662              		.file 6 "Core/Inc/can.h"
 1663              		.file 7 "Core/Inc/ZDT_X42_V2.h"
 1664              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 1665              		.file 9 "<built-in>"
ARM GAS  C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s 			page 40


DEFINED SYMBOLS
                            *ABS*:00000000 ZDT_X42_V2.c
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:21     .text.ZDT_X42_V2_Reset_CurPos_To_Zero:00000000 $t
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:27     .text.ZDT_X42_V2_Reset_CurPos_To_Zero:00000000 ZDT_X42_V2_Reset_CurPos_To_Zero
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:81     .text.ZDT_X42_V2_Reset_Clog_Pro:00000000 $t
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:87     .text.ZDT_X42_V2_Reset_Clog_Pro:00000000 ZDT_X42_V2_Reset_Clog_Pro
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:141    .text.ZDT_X42_V2_Read_Sys_Params:00000000 $t
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:147    .text.ZDT_X42_V2_Read_Sys_Params:00000000 ZDT_X42_V2_Read_Sys_Params
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:177    .text.ZDT_X42_V2_Read_Sys_Params:0000001a $d
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:422    .text.ZDT_X42_V2_Modify_Ctrl_Mode:00000000 $t
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:428    .text.ZDT_X42_V2_Modify_Ctrl_Mode:00000000 ZDT_X42_V2_Modify_Ctrl_Mode
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:490    .text.ZDT_X42_V2_En_Control:00000000 $t
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:496    .text.ZDT_X42_V2_En_Control:00000000 ZDT_X42_V2_En_Control
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:558    .text.ZDT_X42_V2_Torque_Control:00000000 $t
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:564    .text.ZDT_X42_V2_Torque_Control:00000000 ZDT_X42_V2_Torque_Control
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:643    .text.ZDT_X42_V2_Velocity_Control:00000000 $t
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:649    .text.ZDT_X42_V2_Velocity_Control:00000000 ZDT_X42_V2_Velocity_Control
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:755    .text.ZDT_X42_V2_Bypass_Position_LV_Control:00000000 $t
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:761    .text.ZDT_X42_V2_Bypass_Position_LV_Control:00000000 ZDT_X42_V2_Bypass_Position_LV_Control
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:902    .text.ZDT_X42_V2_Traj_Position_Control:00000000 $t
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:908    .text.ZDT_X42_V2_Traj_Position_Control:00000000 ZDT_X42_V2_Traj_Position_Control
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:1086   .text.ZDT_X42_V2_Stop_Now:00000000 $t
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:1092   .text.ZDT_X42_V2_Stop_Now:00000000 ZDT_X42_V2_Stop_Now
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:1151   .text.ZDT_X42_V2_Synchronous_motion:00000000 $t
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:1157   .text.ZDT_X42_V2_Synchronous_motion:00000000 ZDT_X42_V2_Synchronous_motion
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:1211   .text.ZDT_X42_V2_Origin_Set_O:00000000 $t
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:1217   .text.ZDT_X42_V2_Origin_Set_O:00000000 ZDT_X42_V2_Origin_Set_O
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:1276   .text.ZDT_X42_V2_Origin_Modify_Params:00000000 $t
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:1282   .text.ZDT_X42_V2_Origin_Modify_Params:00000000 ZDT_X42_V2_Origin_Modify_Params
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:1422   .text.ZDT_X42_V2_Origin_Trigger_Return:00000000 $t
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:1428   .text.ZDT_X42_V2_Origin_Trigger_Return:00000000 ZDT_X42_V2_Origin_Trigger_Return
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:1486   .text.ZDT_X42_V2_Origin_Interrupt:00000000 $t
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:1492   .text.ZDT_X42_V2_Origin_Interrupt:00000000 ZDT_X42_V2_Origin_Interrupt
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:1546   .text.ZDT_X42_V2_Receive_Data:00000000 $t
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:1552   .text.ZDT_X42_V2_Receive_Data:00000000 ZDT_X42_V2_Receive_Data
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:1652   .text.ZDT_X42_V2_Receive_Data:00000050 $d
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:198    .text.ZDT_X42_V2_Read_Sys_Params:0000002f $d
C:\Users\81506\AppData\Local\Temp\ccBDuZbb.s:198    .text.ZDT_X42_V2_Read_Sys_Params:00000030 $t

UNDEFINED SYMBOLS
can_SendCmd
memset
HAL_Delay
can
